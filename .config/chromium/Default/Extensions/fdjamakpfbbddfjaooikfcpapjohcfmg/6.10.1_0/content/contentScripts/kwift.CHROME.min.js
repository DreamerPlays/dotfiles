var dashlane_injected_js=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=47)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.escapeSpecialChars=function(e){return"string"==typeof e?e.replace(/&/g,"--amp--").replace(/\/\//g,"--dbsl--").replace(/\=/g,"--equ--"):""},t.kwEscapeCharacters=function(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/[\n\t\0]/g," ")},t.kwEscapeDiaoCharacters=function(e){return e.replace(/@/g,"--arob--").replace(/"/g,"--quot--").replace(/\s/g," ").replace(/\\/g,"--bksl--")},t.kwTrim=function(e){return null===e?"":e.toString().replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")||""},t.trimSmart=(()=>{const e=new RegExp("^\\s+","g"),t=new RegExp("[\t\n\r]","g"),n=new RegExp("\\s\\s+","g"),i=new RegExp("^[\\s\\-\\+=_)\\[\\]\\{\\},;?!\\.\\/\"'` ]+"),r=new RegExp("[\\s\\-\\+=_)\\[\\]\\{\\},;?!\\.\\/\"'` ]+$"),o=new RegExp("[*:¯()]*","g");return s=>s?s.replace(e," ").replace(t," ").replace(n," ").replace(i,"").replace(r,"").replace(o,""):""})(),t.nodeListToArray=function(e){const t=[];for(var n=e.length;n--;t.unshift(e[n]));return t},t.getBrowserForWebuiCommunication=function(){return"CHROME".toLowerCase()},t.getBrowser=function(){return"CHROME"},t.fromStringOrder=function(e){try{if("object"==typeof e)return e;e=e.replace(/[\n\r]+/g," ");try{return JSON.parse(e)}catch(t){return new Function("return "+e)()}}catch(t){throw"Can not evaluate JSon : "+t+"\n"+e}},t.gatherElementValues=function(e){return{elementId:e.elementsWatched.getAll().map(e=>e.identifier),elementInitialValue:e.elementsWatched.getAll().map(e=>e.initialValue),elementCurrentValue:e.elementsWatched.getAll().map(e=>"radio"===e.node.getAttribute("type")?e.node.checked:e.node.value)}},t.convertColorToLevel=function(e){function t(e){function t(e){return isNaN(e)?{a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}[e]:Number(e)}return e?1===e.length?17*t(e):16*t(e.charAt(0))+t(e.charAt(1)):0}if(!e||"string"!=typeof e)return 0;var n=e.match(/^#?([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i);return n&&n.length>3?t(n[1])+t(n[2])+t(n[3]):(n=e.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&n.length>3?t(n[1])+t(n[2])+t(n[3]):(n=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\s*\)$/i))&&n.length>3?parseInt(n[1],10)+parseInt(n[2],10)+parseInt(n[3],10):0},t.debounce=function({fn:e,waitTimeFn:t,maxTriesBeforeFlush:n=-1}){let i=null,r=0;return()=>{let o=t&&t()||0;++r,i&&clearTimeout(i),-1!==n&&r>=n?setTimeout(e,0):i=setTimeout(()=>{i=null,e()},o)}},t.getCurrentAjaxIncrementalBackoff=function(){let e=250;const t=2e3;let n=null;const i=()=>{n&&clearTimeout(n),n=setTimeout(()=>{(e=Math.max(e/2,250))>250&&i()},e)};return function(n){if(n)return e;let r=e;return e=Math.min(2*e,t),i(),r}}(),t.getElementFromCacheWithElementData=function(e,t){return t({hashId:e.hashId,position:e.position})},t.elementsForThisFrame=function(e,t,n){return n?"-1"===t?"-1"===e.frame.toString():"-1"!==e.frame.toString():e.frame.toString()===t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2);t.wrapValueToOption=function(e){const t=Array.isArray(e)&&e.length>0,n=!Array.isArray(e);return Boolean(e)&&(n||t)?new i.Some(e):new i.None},t.generateDeferredPromise=function(){return(()=>{let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),reject:t,resolve:e}})()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e){this.value=e}static wrapNull(e){return null==e?new r:new i(e)}map(e){return new i(e(this.value))}match(e){return e.some(this.value)}isSome(){return!0}isNone(){return!1}isSomeAnd(e){return e(this.value)}isNoneAnd(e){return!1}unwrap(){return this.value}unwrapOr(e){return this.value}unwrapOrElse(e){return this.value}mapOr(e,t){return t(this.value)}mapOrElse(e,t){return t(this.value)}okOr(e){return new o(this.value)}okOrElse(e){return new o(this.value)}and(e){return e}andThen(e){return e(this.value)}or(e){return this}orElse(e){return this}toString(){return"Some "+this.value}}t.Some=i;class r{constructor(){}match(e){return"function"==typeof e.none?e.none():e.none}map(e){return r._instance}isSome(){return!1}isNone(){return!0}isSomeAnd(e){return!1}isNoneAnd(e){return e()}unwrap(){throw"None.get"}unwrapOr(e){return e}unwrapOrElse(e){return e()}mapOr(e,t){return e}mapOrElse(e,t){return e()}okOr(e){return new s(e)}okOrElse(e){return new s(e())}and(e){return r.instance()}andThen(e){return r.instance()}or(e){return e}orElse(e){return e()}static instance(){return r._instance}toString(){return"None"}}r._instance=new r,t.None=r;class o{constructor(e){this.value=e}map(e){return new o(e(this.value))}mapErr(e){return new o(this.value)}isOk(){return!0}isErr(){return!1}ok(){return new i(this.value)}err(){return r.instance()}and(e){return e}andThen(e){return e(this.value)}or(e){return this}orElse(e){return new o(this.value)}unwrapOr(e){return this.value}unwrapOrElse(e){return this.value}unwrap(){return this.value}toString(){return"Some "+this.value}}t.Ok=o;class s{constructor(e){this.error=e}map(e){return new s(this.error)}mapErr(e){return new s(e(this.error))}isOk(){return!1}isErr(){return!1}ok(){return r.instance()}err(){return new i(this.error)}and(e){return new s(this.error)}andThen(e){return new s(this.error)}or(e){return e}orElse(e){return e(this.error)}unwrapOr(e){return e}unwrapOrElse(e){return e(this.error)}unwrap(){throw"Err.get"}toString(){return"None"}}t.Err=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i={LEVEL_TWO_INDEX:2,LEVEL_ZERO_INDEX:2147483647,LEVEL_ONE_INDEX:1,ALIGN_OFFSET:-24,WEBUI_DROPDOWN_OFFSET:7,DROPDOWN_SIDE_WIDTH:320,dropdownIframeCss:{position:"relative",width:"100%",height:"100%",float:"left",padding:"0px",border:"none",visibility:"visible",opacity:1,display:"block",overflow:"hidden",zIndex:2,background:"transparent"},dropdownBackgroundCss:{position:"absolute",background:"transparent",top:"14px",left:"0px",zIndex:1},dropdownContainerCss:{position:"absolute",width:"0px",height:"0px",top:"0px",left:"0px",zIndex:2147483647,visibility:"visible",opacity:1,display:"block"},popupIframeCss:{position:"fixed",width:"0px",height:"0px",top:"41px",right:"41px",padding:"0px",border:"none",visibility:"visible",opacity:1,display:"block"}};t.default=i},function(e,t){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=function(){throw new Error("Slot not connected")},o=function(){return r()};o.on=r,t.slot=function(){return o},t.connectSlot=function(e,t){var n=[],r=[];t.forEach(function(t){var i=void 0,o=void 0,s=function(){o=new Promise(function(e){return i=e}),r.push(o)};s(),t.onRemoteHandlerRegistered(e,function(e){n.push(e),i()}),t.onRemoteHandlerUnregistered(e,function(e){var t=n.indexOf(e);n.splice(t,1),r.splice(r.indexOf(o),1),s()})});var o=function(e){return t.length?Promise.all(r).then(function(){return i.callHandlers(e,n)}):i.callHandlers(e,n)};return o.on=function(i){return t.forEach(function(t){return t.registerHandler(e,i)}),n.push(i),function(){t.forEach(function(t){return t.unregisterHandler(e,i)});var r=n.indexOf(i);-1!==r&&n.splice(r,1)}},o}},function(e,t,n){"use strict";function i(e,t){var n=null;try{n=e(t)}catch(e){return Promise.reject(e)}return n&&n.then?n:Promise.resolve(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.callHandlers=function(e,t){return 0===t.length?new Promise(function(e){}):1===t.length?i(t[0],e):Promise.all(t.map(function(t){return i(t,e)}))}},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var r=5e3,o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._timeout=t,this._onMessageCallbacks=[],this._onConnectCallbacks=[],this._onDisconnectCallbacks=[],this._onErrorCallbacks=[],this._ready=!1}return i(e,[{key:"onData",value:function(e){-1===this._onMessageCallbacks.indexOf(e)&&this._onMessageCallbacks.push(e)}},{key:"onConnect",value:function(e){this._ready&&e(),this._onConnectCallbacks.push(e)}},{key:"onDisconnect",value:function(e){this._onDisconnectCallbacks.push(e)}},{key:"onError",value:function(e){this._onErrorCallbacks.push(e)}},{key:"_messageReceived",value:function(e){this._onMessageCallbacks.forEach(function(t){return t(e)})}},{key:"_error",value:function(e){this._onErrorCallbacks.forEach(function(t){return t(e)})}},{key:"_connected",value:function(){this._ready=!0,this._onConnectCallbacks.forEach(function(e){return e()})}},{key:"_disconnected",value:function(){this._ready=!1,this._onDisconnectCallbacks.forEach(function(e){return e()})}},{key:"timeout",get:function(){return this._timeout}}]),e}();t.GenericChannel=o},function(e,t,n){e.exports=n(4)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.slot=i.slot;var r=n(5);t.combineEvents=r.combineEvents,t.createEventBus=r.createEventBus;var o=n(2);t.GenericChannel=o.GenericChannel;var s=n(7);t.ChunkedChannel=s.ChunkedChannel},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(6);t.combineEvents=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign.apply(Object,[{}].concat(t))},t.createEventBus=function(e){var t=(e.channels||[]).map(function(e){return new r.Transport(e)});return Object.keys(e.events).reduce(function(e,n){return e[n]=i.connectSlot(n,t),e},{})}},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=0,s=function(e){throw new Error("Should not happen: "+e)},a={TIMED_OUT:"TIMED_OUT",REMOTE_CONNECTION_CLOSED:"REMOTE_CONNECTION_CLOSED",CHANNEL_NOT_READY:"CHANNEL_NOT_READY"},l=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._channel=t,this._localHandlers={},this._localHandlerRegistrations=[],this._remoteHandlers={},this._remoteHandlerRegistrationCallbacks={},this._remoteHandlerDeletionCallbacks={},this._pendingRequests={},this._channelReady=!1,this._channel.onData(function(e){switch(e.type){case"request":return n._requestReceived(e);case"response":return n._responseReceived(e);case"handler_registered":return n._registerRemoteHandler(e);case"handler_unregistered":return n._unregisterRemoteHandler(e.slotName);case"error":return n._errorReceived(e);default:s(e)}}),this._channel.onConnect(function(){n._channelReady=!0,n._localHandlerRegistrations.forEach(function(e){n._channel.send(e)})}),this._channel.onDisconnect(function(){n._channelReady=!1,n._unregisterAllRemoteHandlers(),n._rejectAllPendingRequests(new Error(""+a.REMOTE_CONNECTION_CLOSED))}),this._channel.onError(function(e){return n._rejectAllPendingRequests(e)})}return i(e,[{key:"_requestReceived",value:function(e){var t=this,n=e.slotName,i=e.data,o=e.id,s=this._localHandlers[n];s&&r.callHandlers(i,s).then(function(e){return t._channel.send({type:"response",slotName:n,id:o,data:e})}).catch(function(e){return t._channel.send({type:"error",slotName:n,id:o,message:""+e,stack:e.stack||""})})}},{key:"_responseReceived",value:function(e){var t=e.slotName,n=e.data,i=e.id;this._pendingRequests[t][i]&&(this._pendingRequests[t][i].resolve(n),delete this._pendingRequests[t][i])}},{key:"_errorReceived",value:function(e){var t=e.slotName,n=e.id,i=e.message,r=e.stack;if(this._pendingRequests[t][n]){var o=new Error(i+" on "+t);o.stack=r||o.stack,this._pendingRequests[t][n].reject(o),delete this._pendingRequests[t][n]}}},{key:"_registerRemoteHandler",value:function(e){var t=this,n=e.slotName,i=this._remoteHandlerRegistrationCallbacks[n];if(i&&!this._remoteHandlers[n]){var r=function(e){return new Promise(function(i,r){if(!t._channelReady)return r(new Error(a.CHANNEL_NOT_READY+" on "+n));t._pendingRequests[n]||(t._pendingRequests[n]={});var s=""+o++;t._pendingRequests[n][s]={resolve:i,reject:r},t._channel.send({type:"request",id:s,slotName:n,data:e}),setTimeout(function(){t._pendingRequests[n][s]&&(t._pendingRequests[n][s].reject(new Error(a.TIMED_OUT+" on "+n)),delete t._pendingRequests[n][s])},t._channel.timeout)})};this._remoteHandlers[n]=r,i(r)}}},{key:"_unregisterRemoteHandler",value:function(e){var t=this._remoteHandlerDeletionCallbacks[e],n=this._remoteHandlers[e];n&&t&&(t(n),delete this._remoteHandlers[e])}},{key:"_unregisterAllRemoteHandlers",value:function(){var e=this;Object.keys(this._remoteHandlerDeletionCallbacks).forEach(function(t){e._unregisterRemoteHandler(t)})}},{key:"_rejectAllPendingRequests",value:function(e){var t=this;Object.keys(this._pendingRequests).forEach(function(n){Object.keys(t._pendingRequests[n]).forEach(function(i){t._pendingRequests[n][i].reject(e)}),t._pendingRequests[n]={}})}},{key:"onRemoteHandlerRegistered",value:function(e,t){this._remoteHandlerRegistrationCallbacks[e]||(this._remoteHandlerRegistrationCallbacks[e]=t)}},{key:"onRemoteHandlerUnregistered",value:function(e,t){this._remoteHandlerDeletionCallbacks[e]||(this._remoteHandlerDeletionCallbacks[e]=t)}},{key:"registerHandler",value:function(e,t){if(this._localHandlers[e]||(this._localHandlers[e]=[]),this._localHandlers[e].push(t),1===this._localHandlers[e].length){var n={type:"handler_registered",slotName:e};this._localHandlerRegistrations.push(n),this._channelReady&&this._channel.send(n)}}},{key:"unregisterHandler",value:function(e,t){if(this._localHandlers[e]){var n=this._localHandlers[e].indexOf(t);if(n>-1&&(this._localHandlers[e].splice(n,1),0===this._localHandlers[e].length)){var i={type:"handler_unregistered",slotName:e};this._channelReady&&this._channel.send(i)}}}}]),e}();t.Transport=l},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0};Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),s=n(8),a=function(e){if(!e.chunkId)throw new Error("ChunkedMessage did not have a chunkId: "+JSON.stringify(e))},l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.timeout));return n._buffer={},n._chunkSize=e.chunkSize,n._sender=e.sender,n._maxStringAlloc=e.maxStringAlloc||-1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.GenericChannel),i(t,[{key:"send",value:function(e){var t=this,n=JSON.stringify(e);if(n.length<=this._chunkSize)this._sender(e);else{var i=function(e){for(var t=new Uint16Array(e.length),n=0,i=e.length;n<i;n++)t[n]=e.charCodeAt(n);return t}(n),r=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Array(30))).map(function(){return Math.random().toString(36)[3]}).join("");this._sender({type:"chunk_start",chunkId:r,size:n.length}),!function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=i.slice(n,n+t._chunkSize);o.length&&(t._sender({type:"chunk_data",chunkId:r,data:Array.from(o)}),e(n+t._chunkSize))}(),this._sender({type:"chunk_end",chunkId:r})}}},{key:"_messageReceived",value:function(e){switch(e.type){case"chunk_start":this._receiveNewChunk(e);break;case"chunk_data":this._receiveChunkData(e);break;case"chunk_end":var n=this._mergeChunks(e);r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_messageReceived",this).call(this,n);break;default:r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_messageReceived",this).call(this,e)}}},{key:"_receiveNewChunk",value:function(e){if(a(e),this._buffer[e.chunkId])throw new Error("There was already an entry in the buffer for chunkId "+e.chunkId);this._buffer[e.chunkId]={id:e.chunkId,chunks:[],size:e.size}}},{key:"_receiveChunkData",value:function(e){if(a(e),!this._buffer[e.chunkId])throw new Error("ChunkId "+e.chunkId+" was not found in the buffer");this._buffer[e.chunkId].chunks.push(e.data)}},{key:"_mergeChunks",value:function(e){if(a(e),!this._buffer[e.chunkId])throw new Error("ChunkId "+e.chunkId+" was not found in the buffer");var t=this._buffer[e.chunkId].chunks.reduce(function(e,t,n){return t.forEach(function(t,n){return e.uintArray[e.currentIx+n]=t}),e.currentIx+=t.length,e},{uintArray:new Uint16Array(this._buffer[e.chunkId].size),currentIx:0}),n=void 0,i=function(e,t){if(-1===t)return String.fromCharCode.apply(null,e);for(var n="",i=0;i<e.length;i+=t)i+t>e.length?n+=String.fromCharCode.apply(null,e.subarray(i)):n+=String.fromCharCode.apply(null,e.subarray(i,i+t));return n}(t.uintArray,this._maxStringAlloc);try{n=JSON.parse(i)}catch(e){throw new Error("Not a valid JSON string: "+i)}if(!s.isTransportMessage(n))throw new Error("Not a transport message: "+JSON.stringify(n));return n}}]),t}();t.ChunkedChannel=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTransportMessage=function(e){switch(e.type){case"request":case"response":case"error":case"handler_unregistered":case"handler_registered":return!0;default:return!1}}}])},function(e,t,n){"use strict";function i(e,t){return{[e]:n=>(t(n),Promise.resolve({type:e}))}}function r(e,t){return{[e]:n=>t().then(t=>Promise.resolve({type:e,reply:t}))}}Object.defineProperty(t,"__esModule",{value:!0});t.default=((e,t)=>Object.assign({},r("isInstalled",()=>Promise.resolve(!0)),r("isLoggedIn",()=>Promise.resolve(e.initialData.isUserLoggedIn)),i("openDashlaneApplication",()=>t.KW__sendPluginEvent({action:"DashlaneAPIRequest_openDashlaneApplication"})),i("endWebOnboarding",()=>t.KW__sendPluginEvent({action:"DashlaneAPIRequest_endWebOnboarding"})),i("signalOnboardingStep",e=>t.KW__sendPluginEvent({action:"DashlaneAPIRequest_signalOnboardingStep",content:JSON.stringify(e)})),i("doOnboardingSiteStep",e=>t.KW__sendPluginEvent({action:"DashlaneAPIRequest_doOnboardingSiteStep",content:JSON.stringify(e)})),{getUserOnboardingSites:()=>new Promise(e=>{o=(t=>{let n=null;try{n=JSON.parse(t.content)}catch(e){console.error("Cannot parse content")}e({type:"getUserOnboardingSites",reply:n})}),t.KW__sendPluginEvent({action:"DashlaneAPIRequest_getUserOnboardingSites"})})}));let o=null;t.getUserOnboardingSitesCallback=function(e){o&&(o(e),o=null)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),r={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},o={IFRAME:1,FRAME:1,STYLE:1,SCRIPT:1,SELECT:1,INPUT:1,TEXTAREA:1,OPTION:1},s={INPUT:1,SELECT:1,TEXTAREA:1},a={BODY:1,FRAME:1,IFRAME:1},l={oui:1,non:1,"oui non":1,"non oui":1,"yes no":1,"no yes":1,yes:1,no:1,facultatif:1,aide:1,optional:1,card:1,carte:1},c={info:1,"d'info":1,"d'infos":1,"en savoir plus":1,"en savoir":1,more:1,help:1,aide:1,optional:1};var u={menge:1,quantitat:1,options:1,qty:1,quantity:1,quantite:1,total:1},h={account:1,"address *":1,address:1,"address*":1,"address 1":1,"address 2":1,"apt./suite":1,"bic/swift":1,"bill to name":1,"card number":1,"city *":1,city:1,"city*":1,company:1,"confirm email":1,"confirm password":1,confirm:1,country:1,county:1,"credit card number":1,"customer reference number":1,cvc:1,cvv:1,"e-mail address":1,"e-mail":1,"email *":1,"email address *":1,"email address":1,"email address*":1,"email or id":1,"email or phone":1,"email or username":1,email:1,"email*":1,"enter city or zip code":1,"enter your city or zip":1,"enter your e-mailâ¦":1,"enter your email address":1,"enter your email":1,"enter your online id":1,"expiration date (mm/yy)":1,fax:1,find:1,"find...":1,"* first name":1,"first and last name":1,"first name *":1,"first name*":1,"full name":1,iban:1,"job title":1,"* last name":1,"last name *":1,"last name":1,"last name*":1,"login id":1,"mobile phone":1,name:1,"password confirmation":1,"password hint":1,password:1,"phone number or email":1,"phone number (optional)":1,"phone number":1,phone:1,"postal code *":1,"postal code*":1,"re-type password":1,search:1,"search...":1,"security code":1,"security digits":1,"ship to name":1,state:1,"street address":1,"street/apt":1,"user id":1,"username or email":1,username:1,"username/email":1,website:1,"your email":1,"your first name":1,"your full name":1,"your last name":1,"your name":1,"your new password":1,"your password":1,"zip code *":1,"zip code":1,"zip code*":1,"zip or postal code *":1,"zip or postal code*":1,zipcode:1,"adresse e-mail":1,"adresse e-mail*":1,"adresse e-mail *":1,"adresse e-mail  *":1,"adresse electronique ou telephone":1,"adresse email":1,"adresse mail":1,adresse:1,"ancien mot de passe":1,appartement:1,"bp lieu dit":1,"code postal":1,"code postal*":1,"code postal *":1,"code postal  *":1,"code secret":1,"complement d'adresse":1,"complement d'adresse optionnel":1,"confirmez le mot de passe":1,"confirmez le mot de passe*":1,"confirmez le mot de passe *":1,"confirmez le mot de passe  *":1,cp:1,"cryptogramme visuel":1,"date de naissance":1,"date de naissance *":1,"date de naissance  *":1,"date de naissance (jj/mm/aaaa)":1,departement:1,digicode:1,"email obligatoire":1,"first name":1,"id utilisateur":1,"identifiant apple":1,identifiant:1,"lieu de naissance":1,"mon adresse email":1,"mon mot de passe":1,"mot de passe":1,"mot de passe*":1,"mot de passe *":1,"mot de passe  *":1,nom:1,"nom*":1,"nom *":1,"nom  *":1,"nom d'utilisateur ou email":1,"nom d'utilisateur":1,"nom d'utilisateur:":1,"nom et prenom":1,"nouveau mot de passe":1,"numero de carte":1,"numero de telephone ou email":1,pays:1,prenom:1,"prenom*":1,"prenom *":1,"prenom  *":1,"pseudo / email":1,pseudo:1,recherche:1,"recherche...":1,"rechercher...":1,region:1,"son email":1,telephone:1,"titulaire de la carte":1,"verification du mot de passe":1,ville:1,"votre adresse email":1,"votre email":1,"votre e-mail":1,"votre mot de passe":1,"votre nom":1,"votre nom obligatoire":1,"votre nouveau mot de passe":1,"votre prenom":1,"votre pseudo ou email":1,"website optionnel":1,benutzername:1,"e-mail-adresse":1,nachname:1,nutzername:1,ort:1,passwort:1,plz:1,suche:1,"suche...":1,suchen:1,"telefonnummer oder e mail":1,vorname:1,buscar:1,"buscar...":1,"numero de telefono o correo electronico":1,"search entire mailbox":1,"search inbox":1};function d(e){return e.toLowerCase&&e.replace&&(e=e.toLowerCase().replace(/Ã©/g,"e")),h.hasOwnProperty(e)}t.checkInnerValueWords=d;var m={error:1,infos:1};function f(e,t){try{if(t.nodeType===r.ELEMENT_NODE){var n=t.nodeName.toUpperCase();if(!o.hasOwnProperty(n)&&1!==t.kw){var s=i.nodeListToArray(t.children);if(0===s.length)return i.trimSmart(t.innerText);{if(t.findInnerTextWithoutInputElementsBuffer)return t.findInnerTextWithoutInputElementsBuffer;let n=s.map(t=>f(e,t)).join(" ");return n=i.trimSmart(n),t.findInnerTextWithoutInputElementsBuffer=n,n}}return""}if(t.nodeType===r.TEXT_NODE)return i.trimSmart(t.nodeValue)}catch(e){}return""}function p(e,t){if(t.nodeType===r.ELEMENT_NODE){if(!o.hasOwnProperty(t.nodeName.toUpperCase())&&1!==t.kw){var n=i.nodeListToArray(t.children);if(0===n.length)return i.trimSmart(t.innerText);{let t=n.map(t=>(function(e){return s.hasOwnProperty(e.nodeName.toUpperCase())?1:g(e)})(t)>0?"":f(e,t)).join(" ");return i.trimSmart(t)}}}else if(t.nodeType===r.TEXT_NODE)return i.trimSmart(t.nodeValue);return""}function g(e){var t=e.dataset&&e.dataset.childrenCount;if(t)return parseInt(t,10);var n=e.querySelectorAll("input:not([type='hidden']):not([type='submit']), select, textarea").length;return e.dataset.childrenCount=n.toString(),n}function w(e,t){if(0===t.childNodes.length){if(t.nodeType===r.ELEMENT_NODE){var n=t.nodeName.toUpperCase();return"SCRIPT"===n||"STYLE"===n||1===t.kw||""===i.trimSmart(t.innerText)}return t.nodeType===r.TEXT_NODE?""===i.trimSmart(t.nodeValue):""}return""===i.trimSmart(t.innerText)}class _{constructor(){this.element=null,this.id=null,this.name=null,this.type=null,this.parent=null,this.depthParent=null,this.direction=null}init(e,t){this.element=e,this.type=e.getAttribute("type"),this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),this.parent=e,this.depthParent=0,this.direction="checkbox"===this.type||"radio"===this.type?"next":"prev",this.findParentAndDepthParent(),!this.type||"radio"!==this.type&&"checkbox"!==this.type||this.getDirectionToLookFor(t)}findParentAndDepthParent(){for(var e=null;this.depthParent<5&&(e=this.parent.parentElement)&&!(g(e)>1)&&(this.parent=e,this.depthParent++,!this.stop(this.parent)););}stop(e){return typeof!e||a.hasOwnProperty(e.nodeName)}getSuperText(e){for(var t="",n=(e,t)=>{var n=e[t];if(null!==n)return n;for(var i=e.parentElement;null!==i&&!this.stop(i);){var r=i[t];if(null!==r){var o=r;if(1!==o)return o;{const e=o.querySelectorAll("*");return e[e.length-1]}}i=i.parentElement}return null},i=n(this.element,"previousSibling");null!==i;)try{if(""!==(t=p(e,i)))return{content:t,score:100};i=n(i,"previousSibling")}catch(e){return""}return{content:t,score:100}}getDirectionToLookFor(e){var t=this.parent;0===this.depthParent&&(t=this.element.parentElement);var n=t.querySelectorAll("input:not([type=hidden])");if(0!==n.length){var i=n[0],r=n[n.length-1],o=function(e,t){for(var n=t.previousSibling;null!==n;){if("BR"===n.nodeName.toUpperCase())return!0;if(!w(0,n))return!1;n=n.previousSibling}return!0}(0,i),s=function(e,t){for(var n=t.nextSibling;null!==n;){if(!w(0,n))return!1;n=n.nextSibling}return!0}(0,r);!o&&s&&(this.direction="prev"),o&&!s&&(this.direction="next"),s||(this.direction="next")}}getText(e){const t=i.nodeListToArray(this.parent.querySelectorAll("label"));let n=i.trimSmart(t.map(e=>e.innerText).join(" "));return""===n&&(n=f(e,this.parent)),{content:n,score:100}}getNeighboursText(e){var t="";if("FORM"===this.parent.nodeName)return{content:"",score:0};var n=this.parent.parentElement;if("FORM"===n.nodeName||this.stop(n))return{content:"",score:0};var r=n.querySelectorAll("label");return 1===r.length&&(t=i.trimSmart(r[0].innerText)),""===t&&(t=p(e,n)),{content:t,score:5}}getParentCell(e){return{content:"",score:20}}getUncleText(e,n,i,r,o){var s="previousSibling";(n&&"prev"===this.direction||!n&&"next"===this.direction)&&(s="nextSibling");var a=o[i];n&&(a/=2);var l=this.parent,c=l,u=c.nodeName;if("FORM"===u||"FIELDSET"===u||this.stop(c))return{content:"",score:""};for(var h=0;h<i;++h){if(null===(l=l.parentElement))return{content:"",score:0};if("FORM"===(u=(c=l).nodeName)||"FIELDSET"===u||this.stop(c))return{content:"",score:""}}var d=l;if(!d)return{content:"",score:""};d=d[0][s];for(var m="",p=!1;null!==d;){if(g(d)>1){if(p){a/=1.5,d=d[s],p=!1;continue}break}if((m=f(e,d))&&""!==m&&!t.KW__DOMContext.checkUselessWords(m))break;d=d[s]}return n||""!==m?n&&""===m&&i<r-1?this.getUncleText(e,!1,i+1,r,o):{content:m,score:a}:this.getUncleText(e,!0,i,r,o)}getLabelText(e){var t="",n=100;let r=null;var o;if(this.id&&(r=e.kwQuerySelector(`label[for="${this.id}"]`),o="id"),!r&&this.name&&(o="name",r=e.kwQuerySelector(`label[for="${this.name}"]`)),!r)return{content:t,score:n};if(t=i.trimSmart(r.innerText),"id"===o){e.kwQuerySelector(`input[id="${this.id}"]`)&&(n/=5)}if("name"===o){e.kwQuerySelector(`input[name="${this.name}"]`)&&(n/=5)}return{content:t,score:n}}getNearImages(e,t,n){var r=100,o="previousSibling";(e&&"prev"===this.direction||!e&&"next"===this.direction)&&(o="nextSibling"),e&&(r/=2),t&&(r/=2);var s=t?this.element.parentElement:this.element;if(null===s||this.stop(s))return{content:"",score:""};"FORM"===s.nodeName&&g(s);for(var a=s,l="";null!==a&&!(g(a)>1||""!==f(n,a));){var c=null;if((c="IMG"===a.nodeName?a:a.querySelector("img"))&&""===(l=i.trimSmart(c.getAttribute("alt")))){var u=c.getAttribute("src"),h=new RegExp(/([^\/*]+)\.\w+$/gi).exec(u);h&&(l=h[1],r/=2)}if(""!==l)break;a=a[o]}return e||""!==l||t?!e&&""===l&&t?this.getNearImages(!0,!1,n):e&&""===l&&!t?this.getNearImages(!0,!0,n):{content:l,score:r}:this.getNearImages(!1,!0,n)}getVeryCloseText(e){for(var t=this.element.previousElementSibling,n=this.element.nextElementSibling,o="",s="",a="",l="",c="";null!==t&&t.nodeType===r.TEXT_NODE&&""===(o=i.trimSmart(t.nodeValue));)t=t.previousElementSibling;if(""!==o)for(t=t.previousElementSibling;null!==t&&t.nodeType===r.ELEMENT_NODE&&"A"===t.nodeName;){if(""!==(s=i.trimSmart(t.innerText))){o+=" "+s;break}t=t.previousElementSibling}for(;null!==n&&n.nodeType===r.TEXT_NODE&&""===(a=i.trimSmart(n.nodeValue));)n=n.nextElementSibling;if(""!==a)for(n=n.nextElementSibling;null!==n&&n.nodeType===r.ELEMENT_NODE&&"A"===n.nodeName;){if(""!==(l=i.trimSmart(n.innerText))){a+=" "+l;break}n=n.nextElementSibling}return""!==o&&""===a&&(c=o),""===o&&""!==a&&(c=a),{content:c,score:100}}getInnerValue(e){var t="",n=100,r=this.element.getAttribute("placeholder");r=r?i.trimSmart(r):"";var o=this.element.getAttribute("value");o=o?i.trimSmart(o):"";var s=this.element.getAttribute("aria-label");return s=s?i.trimSmart(s):"",""!==r?t=r:""!==o?t=o:""!==s&&(t=s),d(t)||(n=0),{content:t,score:n}}}t.InputElementProcesser=_;var v=new _;t.KW__DOMContext={checkStopWords:function(e){return l.hasOwnProperty(e.toLowerCase())},checkUselessWords:function(e){return c.hasOwnProperty(e.toLowerCase())},checkBasketWords:function(e){return u.hasOwnProperty(e.toLowerCase())},checkNearImagesWords:function(e){return m.hasOwnProperty(e.toLowerCase())},getText:function(e,t){return t.getText(e)},getNeighboursText:function(e,t){return t.getNeighboursText(e)},getParentCell:function(e,t){return t.getParentCell(e)},getUncleText:function(e,t){return t.getUncleText(e,!1,0,0,[70])},getLabelText:function(e,t){return t.getLabelText(e)},getNearImages:function(e,t){return t.getNearImages(!1,!1,e)},getGreatUncleText:function(e,t){return t.getUncleText(e,!1,1,3,[0,65,40,20])},getVeryCloseText:function(e,t){return t.getVeryCloseText(e)},getSuperText:function(e,t){return t.getSuperText(e)},getInnerValue:function(e,t){return t.getInnerValue(e)},getRulesForNode:function(e){var t=e.getAttribute("type");return t&&"select"===t?y._rulesForSelect:!t||"checkbox"!==t&&"radio"!==t?y._rulesByDefault:y._rulesForRadioCheckbox},textInputPostProcessing:function(e){var t=e.GreatUncleText.content,n=e.superText.content,i=e.getParentCell.content;""!==t&&""!==i&&t.indexOf(i)>-1&&(e.GreatUncleText.content=e.getParentCell.content),""!==n&&""!==i&&n.indexOf(i)>-1&&(e.superText.content=e.getParentCell.content)},notRelevantResponse:function(e){Object.keys(e).forEach(n=>{e[n].content&&t.KW__DOMContext.checkUselessWords(e[n].content)&&(e[n].score=e[n].score/2),e[n].content&&e[n].content.length>512&&(e[n].content="",e[n].score=0)})},findAssociatedLabelForRadio:function(e){var n={content:"",score:0,name:""};if(Object.keys(e).forEach(t=>{const i=e[t];i.score>n.score&&""!==i.content&&(n=i)}),t.KW__DOMContext.checkStopWords(n.content)){var i=e.getNeighboursText;i=i&&i.content!==n.content?i:{content:""},""!==e.GreatUncleText.content&&e.GreatUncleText.content!==n.content&&(e.GreatUncleText.score>50||""===i.content||t.KW__DOMContext.checkStopWords(i.content))&&(i=e.GreatUncleText),""===i.content&&(i=e.getNearImages),""===i.content&&(i=e.getText),n.content=n.content+" "+i.content,e[n.name]=n}},basketParentCell:function(e){t.KW__DOMContext.checkBasketWords(e.getParentCell.content)&&(e.getParentCell.score=150)},filterNearImagesContent:function(e){t.KW__DOMContext.checkNearImagesWords(e.getNearImages.content)&&(e.getNearImages.score=5)},phoneExtensionPostProcessing:function(e){var t={content:"",score:0,name:""};if(Object.keys(e).forEach(n=>{var i=e[n];i.score>t.score&&""!==i.content&&(t=i)}),new RegExp(/^[0-9]{1,4}$/gi).exec(t.content)){var n=e.getNeighboursText;n=n&&n.content!==t.content?n:{content:""},""!==e.GreatUncleText.content&&e.GreatUncleText.content!==t.content&&(e.GreatUncleText.score>50||""===n.content)&&(n=e.GreatUncleText),""===n.content&&(n=e.getNearImages),""===n.content&&(n=e.getText),t.content=n.content+" "+t.content,e[t.name]=t}},getPostProcessingForNode:function(e){var n=[],i=e.getAttribute("type");return i&&"radio"===i&&n.push(t.KW__DOMContext.findAssociatedLabelForRadio),n.push(t.KW__DOMContext.textInputPostProcessing),i&&"checkbox"===i||n.push(t.KW__DOMContext.notRelevantResponse),n.push(t.KW__DOMContext.phoneExtensionPostProcessing),n.push(t.KW__DOMContext.basketParentCell),n.push(t.KW__DOMContext.filterNearImagesContent),n},getV2Context:(e,n)=>{var r,o=t.KW__DOMContext.getRulesForNode(e),s={},a={content:"",score:0,name:""};for(Object.keys(s).forEach(e=>delete s[e]),v.init(e,n),r=o.length;r--;)try{var l=o[r].method(n,v);s[o[r].name]={name:o[r].name,score:l.score*o[r].score,content:l.content}}catch(e){return s[o[r].name]={name:o[r].name,score:0,content:""},""}for(var c=t.KW__DOMContext.getPostProcessingForNode(e),u=0,h=c.length;u<h;u++)c[u](s);var d,m=[],f=[];for(r=o.length;r--;){if(""===(d=s[o[r].name]).content)continue;const e=m.indexOf(i.trimSmart(d.content));e>-1?f[e]+=d.score:(m.push(i.trimSmart(d.content)),f.push(d.score))}for(r=o.length;r--;){if(""===(d=s[o[r].name]).content)continue;const e=m.indexOf(i.trimSmart(d.content));e>-1&&(s[o[r].name].score=f[e])}return Object.keys(s).forEach(e=>{(d=s[e]).score>a.score&&""!==d.content&&(a=d)}),a.content},getTextForNode:function(e,t,n,i){return t.match({some:e=>`CONTEXT_${e}`,none:()=>n?"":this.getV2Context(e,i)})}};const y={_rulesForSelect:[{name:"GreatUncleText",method:t.KW__DOMContext.getGreatUncleText,score:.9},{name:"getLabelText",method:t.KW__DOMContext.getLabelText,score:1.5},{name:"getText",method:t.KW__DOMContext.getText,score:1},{name:"getParentCell",method:t.KW__DOMContext.getParentCell,score:1},{name:"getUncleText",method:t.KW__DOMContext.getUncleText,score:1},{name:"getNearImages",method:t.KW__DOMContext.getNearImages,score:1},{name:"superText",method:t.KW__DOMContext.getSuperText,score:.1}],_rulesForRadioCheckbox:[{name:"GreatUncleText",method:t.KW__DOMContext.getGreatUncleText,score:.9},{name:"getLabelText",method:t.KW__DOMContext.getLabelText,score:1.5},{name:"getText",method:t.KW__DOMContext.getText,score:1},{name:"getNeighboursText",method:t.KW__DOMContext.getNeighboursText,score:1},{name:"getParentCell",method:t.KW__DOMContext.getParentCell,score:1},{name:"getUncleText",method:t.KW__DOMContext.getUncleText,score:1},{name:"getVeryCloseText",method:t.KW__DOMContext.getVeryCloseText,score:1},{name:"getNearImages",method:t.KW__DOMContext.getNearImages,score:3},{name:"superText",method:t.KW__DOMContext.getSuperText,score:.1}],_rulesByDefault:[{name:"GreatUncleText",method:t.KW__DOMContext.getGreatUncleText,score:.9},{name:"getLabelText",method:t.KW__DOMContext.getLabelText,score:1.5},{name:"getText",method:t.KW__DOMContext.getText,score:1},{name:"getParentCell",method:t.KW__DOMContext.getParentCell,score:1},{name:"getUncleText",method:t.KW__DOMContext.getUncleText,score:1},{name:"getNearImages",method:t.KW__DOMContext.getNearImages,score:1},{name:"superText",method:t.KW__DOMContext.getSuperText,score:.1},{name:"innerValue",method:t.KW__DOMContext.getInnerValue,score:1.5}]};t.default=function(e){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logException=((e,t)=>{e({action:"logException",message:t.message,precisions:t.stack,type:"injectedts"})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5),r=n(7),o=2,s=new RegExp(/\.dashlane\.com(?::\d\d\d\d)?$/);function a(e){window.postMessage(Object.assign({},e,{origin:"contentscript"}),"*")}t.default=function({comms:e,store:t,initialDataIsInitialized:n,utils:l}){const c=i.default(t,e);window.addEventListener("message",t=>{if(!(e=>e.source===window&&e.data&&"web"===e.data.origin&&(s.test(e.origin)||!1))(t))return;const i=t.data,{type:l,version:u,params:h}=i;if(u<o)throw new Error(`Version ${u} is deprecated, expecting >= ${o}`);const d=c[l];if(!d)throw new Error(`Unknown API request type: ${l}`);n.then(()=>d(h)).then(a).catch(t=>{r.logException(e.KW__sendPluginEvent,t)})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8);t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);t.default=function(e){const{store:t,utils:n,getFromCache:r,order:o}=e;if(t.elementsWatched.removeAll(),o.elements){const e=e=>({some:n=>t.elementsWatched.register({identifier:e.identifier,node:n,initialValue:n.value}),none:()=>n.warn(`Element ${e.hashId} was not found!`)}),s=!t.initialData.maverickStatus;o.elements.filter(e=>i.elementsForThisFrame(e,n.getUniqueFrameId(),s)).map(e=>({eData:e,eOption:i.getElementFromCacheWithElementData(e,r)})).forEach(({eData:t,eOption:n})=>n.match(e(t)))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);t.default=function(e){const t=e.order,{getFromCache:n,utils:r,store:o}=e;if(t.elements){const s=n=>({some:r=>(function(e){const{comms:t,store:n,pageId:r,elementOnPage:o,elementData:s}=e;let a="click",l=!1;switch(s.elementType.toUpperCase()){case"FORM":a="submit",l=!0;break;case"SELECT":a="change"}const c=()=>{const e=Object.assign({action:"eventOnOutFired",identifier:s.identifier,meaningPageId:r},i.gatherElementValues(n));t.KW__sendPluginEvent(e)};o.addEventListener(a,c),l&&o.addEventListener("keydown",e=>{if(13===e.keyCode)return c()})})(Object.assign({},e,{elementData:n,elementOnPage:r,pageId:t.pageId})),none:()=>r.warn(`Cannot put handler, element ${n.hashId} not found`)}),a=!o.initialData.maverickStatus;t.elements.filter(e=>i.elementsForThisFrame(e,r.getUniqueFrameId(),a)).map(e=>({eData:e,eOption:i.getElementFromCacheWithElementData(e,n)})).forEach(({eData:e,eOption:t})=>t.match(s(e)))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendTimeToImpalaPerfLog=((e,t,n)=>{const{impala:i,performance:r}=e;i.getAll().match({some:e=>{if(e.some(e=>e.isAlive())){const e=r.tti.getResult();if(e.isSome()){const t=e.unwrap();return n.KW__sendPluginEvent({action:"signalTimeToImpalas",tti:t.time})}}return r.tti.reset()},none:()=>r.tti.reset()})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1);function r(e){return i.wrapValueToOption(e.dataset.kwimpalaid)}t.getImpalaIdentifierFromElement=r,t.doesElementHaveImpala=function(e){return r(e).isSome()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={refreshRate:800,autocompleteKnownValue:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyB3aWR0aD0nMTcnIGhlaWdodD0nMTInIHZpZXdCb3g9JzAgMCAxNyAxMic+IDxkZWZzPiA8cGF0aCBpZD0nYScgZD0nTTcuOTA5IDEuNDYybDIuMTIxLjg2NHMtLjY3MS4xMy0xLjIwOS4yOTRjMCAwIC40MzcuNjM0Ljc3LjkzOC4zOTEtLjE4LjY1Ny0uMjQ4LjY1Ny0uMjQ4LS44MTEgMS42NjgtMi45NzkgMi43MDMtNC41MyAyLjcwMy0uMDkzIDAtLjQ4Mi0uMDA2LS43MjcuMDE1LS40MzUuMDIxLS41ODEuMzgtLjM3NC40NzMuMzczLjIwMSAxLjE0My42NjIuOTU4IDEuMDA5QzUuMiA4LjAwMy45OTkgMTEgLjk5OSAxMWwuNjQ4Ljg4Nkw2LjEyOSA4LjYzQzguNjAyIDYuOTQ4IDEyLjAwNiA2IDE1IDZoM1Y1aC00LjAwMWMtMS4wNTggMC0yLjA0LjEyMi0yLjQ3My0uMDItLjQwMi0uMTMzLS41MDItLjY3OS0uNDU1LTEuMDM1YTcuODcgNy44NyAwIDAgMSAuMTg3LS43MjljLjAyOC0uMDk5LjA0Ni0uMDc3LjE1NS0uMDk5LjU0LS4xMTIuNzc3LS4wOTUuODIxLS4xNi4xNDYtLjI0NS4yNTQtLjk3NC4yNTQtLjk3NEw3LjU2OS4zODlzLjIwMiAxLjAxMy4zNCAxLjA3M3onLz4gPC9kZWZzPiA8dXNlIGZpbGw9JyMwMDdDOTcnIGZpbGwtcnVsZT0nZXZlbm9kZCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTEpJyB4bGluazpocmVmPScjYScvPiA8L3N2Zz4=",autocompleteUnknownValue:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTciIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxNyAxMiI+IDxkZWZzPiA8cGF0aCBpZD0iYSIgZD0iTTcuOTA5IDEuNDYybDIuMTIxLjg2NHMtLjY3MS4xMy0xLjIwOS4yOTRjMCAwIC40MzcuNjM0Ljc3LjkzOC4zOTEtLjE4LjY1Ny0uMjQ4LjY1Ny0uMjQ4LS44MTEgMS42NjgtMi45NzkgMi43MDMtNC41MyAyLjcwMy0uMDkzIDAtLjQ4Mi0uMDA2LS43MjcuMDE1LS40MzUuMDIxLS41ODEuMzgtLjM3NC40NzMuMzczLjIwMSAxLjE0My42NjIuOTU4IDEuMDA5QzUuMiA4LjAwMy45OTkgMTEgLjk5OSAxMWwuNjQ4Ljg4Nkw2LjEyOSA4LjYzQzguNjAyIDYuOTQ4IDEyLjAwNiA2IDE1IDZoM1Y1aC00LjAwMWMtMS4wNTggMC0yLjA0LjEyMi0yLjQ3My0uMDItLjQwMi0uMTMzLS41MDItLjY3OS0uNDU1LTEuMDM1YTcuODcgNy44NyAwIDAgMSAuMTg3LS43MjljLjAyOC0uMDk5LjA0Ni0uMDc3LjE1NS0uMDk5LjU0LS4xMTIuNzc3LS4wOTUuODIxLS4xNi4xNDYtLjI0NS4yNTQtLjk3NC4yNTQtLjk3NEw3LjU2OS4zODlzLjIwMiAxLjAxMy4zNCAxLjA3M3oiLz4gPC9kZWZzPiA8dXNlIGZpbGw9IiNiNmI2YjYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEpIiB4bGluazpocmVmPSIjYSIvPiA8L3N2Zz4=",onboardingStepRegexp:{step1:/https:\/\/(www|tests)*\.dashlane\.com(?::\d\d\d\d)?\/(\w{2}\/){0,1}gettingstarted-datacapture-step/,step2:/https:\/\/(www|tests)*\.dashlane\.com(?::\d\d\d\d)?\/(\w{2}\/){0,1}gettingstarted-autofill-step/}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2),r=n(14),o=n(0),s=n(13),a=n(0),l=n(12),c=+new Date,u={_focusAfterTab:!1,config:{showImpalas:!0}};class h{constructor(e,t,n){this.utils=null,this.comms=null,this.store=null,this.lastPopElementClicked=null,this._dynamicConfig=null,this._input=null,this._impala=null,this._mustDisplayImpala=!1,this._visibleChecker=null,this._invisibleChecker=null,this._mutexForFocusLoop=!1,this._fadeInAnimator=null,this._fadeInterval=40,this._fadeDuration=400,this._fadeStart=0,this._refreshImpalaTimer=void 0,this._lastBlurTimestamp=0,this._lastLeft=0,this._lastTop=0,this._marginLeft=0,this._marginTop=0,this.handlers={focus:null,click:null,blur:null,keyup:null,select:null},this.utils=e,this.comms=t,this.store=n}getSrcElementId(){return this._dynamicConfig.identifier}getImpala(){return this._input}create(e,t){if(this._dynamicConfig=t,this._input=e,this.cacheValue("creation"),!s.doesElementHaveImpala(this._input)){try{this.highlightBorder()&&(this.setAsAlreadyMarked(),this.initializeHandler(),this.setPositioningRefreshInterval())}catch(e){this.utils.log("KW__HighlightBackground.create() failed :\n"+e)}return this}}setPositioningRefreshInterval(){this._refreshImpalaTimer=setInterval(()=>{if(this._impala){const{pos:e,impalaWidth:t,impalaHeight:n,marginX:i}=this.getPositionForImpalas(),r=e.left+e.width-t-i+this._marginLeft,o=e.top+(e.height-n)/2+this._marginTop;r===this._lastLeft&&o===this._lastTop||(this._lastLeft=r,this._lastTop=o,this.utils.setCss(this._impala,{left:`${this._lastLeft}px`,top:`${this._lastTop}px`}))}},r.default.refreshRate)}update(e,t){this._dynamicConfig=t,this._input=e;try{this.highlightBorder(),this.setAsAlreadyMarked()}catch(e){this.utils.log("KW__HighlightBackground.update() failed :\n"+e)}return this}setAsAlreadyMarked(){this._input.dataset.kwimpalastatus="alive"}isAlive(){return"alive"===this._input.dataset.kwimpalastatus}markAsDead(){this._input.dataset.kwimpalastatus="dead"}kill(){this._refreshImpalaTimer&&clearInterval(this._refreshImpalaTimer),this._fadeInAnimator&&clearInterval(this._fadeInAnimator),this._impala&&this._impala.parentElement&&this._impala.parentElement.removeChild(this._impala),this._input.removeEventListener("focus",this.handlers.focus),this._input.removeEventListener("click",this.handlers.click),this._input.removeEventListener("blur",this.handlers.blur),this._input.removeEventListener("keyup",this.handlers.keyup),this._input.removeEventListener("select",this.handlers.select),delete this._input.dataset.kwimpalastatus,delete this._input.dataset.kwimpalaid}initializeHandler(){this.handlers={focus:e=>{const t=window.location.hostname,n=t&&/twitter\.[^\.]*$/.test(t)||/foursquare\.[^\.]*$/.test(t)||/edarling\.[^\.]*$/.test(t)||/secure.logmein\.[^\.]*$/.test(t)||/login.live\.[^\.]*$/.test(t)||/expedia\.[^\.]*$/.test(t);!this.store.elementsWatched.preventFocus&&this.lastPopElementClicked&&(this.lastPopElementClicked._signalBlurForCpp(),this.lastPopElementClicked=null),this.cacheValue("focus"),(n||u._focusAfterTab)&&(n&&+new Date-c<1e3||(u._focusAfterTab=!1,this.utils.kwQuerySelector("div[rel='KW_AutofillChoiceLayer']")||(this._lastBlurTimestamp&&e.timeStamp-this._lastBlurTimestamp<100?this.utils.log("Quick blur + focus catched!"):this.signalFocusForCpp())))},click:e=>{!this.store.elementsWatched.preventFocus&&this.lastPopElementClicked&&(this.lastPopElementClicked._signalBlurForCpp(),this.lastPopElementClicked=null),this.signalFocusForCpp()},blur:e=>{document.activeElement&&document.activeElement===this._input[0]||(this.cacheValue("blur"),this._lastBlurTimestamp=e.timeStamp,this.signalBlurForCpp())},keyup:e=>{this.signalKeyup(e),this.cacheValue("keyup")},select:e=>{this.signalFocusForCpp()}},this._input.addEventListener("focus",this.handlers.focus),this._input.addEventListener("click",this.handlers.click),this._input.addEventListener("blur",this.handlers.blur),this._input.addEventListener("keyup",this.handlers.keyup),this._input.addEventListener("select",this.handlers.select)}signalKeyup(e){var t=this.utils.getKeycode(e);16!==t&&(String.fromCharCode(e.which).replace(/\s+/,"").length>0&&(t<37||t>40)&&(!0===this._dynamicConfig.sendLiveValue?this.signalValueForCpp():this.signalBlurForCpp()))}getValueOrderToSend(){if(!this._dynamicConfig.informationNeeded||!this._dynamicConfig.precision)throw new Error("Should not happen");return{action:"valueDescriptionsForAutoFill",informationNeeded:this._dynamicConfig.informationNeeded,precisionType:this._dynamicConfig.precision,meaningPageId:this._dynamicConfig.meaningPageId,srcElementId:this._dynamicConfig.identifier,elementCurrentValue:this._input.value}}signalValueForCpp(){if(!this._mutexForFocusLoop&&!this.store.elementsWatched.preventFocus)try{this.comms.KW__sendPluginEvent(this.getValueOrderToSend())}catch(e){this.utils.log("KW__HighlightBackground.signalValueForCpp() faild [1] :\n"+e)}}cacheValue(e){if("input_text"!==this._dynamicConfig.elementType&&"input_password"!==this._dynamicConfig.elementType||"AUTHENTICATION"!==this._dynamicConfig.informationNeeded)return;const t=this._input.nodeValue;(function(e){return-1!==e.indexOf("●●●●")})(t)||(this._input.dataset.kwcachedvalue=t,this._input.dataset.kwsendcachedvalue=!0)}highlightBorder(){try{const e=this._input.getAttribute("type"),t=e&&e.toLowerCase()||"",n=this._dynamicConfig.knownValue?r.default.autocompleteKnownValue:r.default.autocompleteUnknownValue;if(this._input.disabled)return this._mustDisplayImpala=!1,!1;if("INPUT"===this._input.tagName.toUpperCase()&&("text"===t||"password"===t||"email"===t||"tel"===t||"url"===t||"search"===t||"number"===t||"date"===t)||"TEXTAREA"===this._input.tagName.toUpperCase()){if(this._dynamicConfig.mustDestroy&&(this._impala&&(this._fadeInAnimator&&(clearInterval(this._fadeInAnimator),this._fadeInAnimator=!1),this._impala.remove(),this._impala=null,this._input.dataset.kwimpalastatus="dead"),!this._dynamicConfig.invisible))return!1;const e=null!==window.location.href.match(r.default.onboardingStepRegexp.step1);if(this._mustDisplayImpala=!e,!0!==u.config.showImpalas||this._dynamicConfig.invisible||!this._mustDisplayImpala)return this._impala&&(this._fadeInAnimator&&(clearInterval(this._fadeInAnimator),this._fadeInAnimator=null),this._impala.remove(),this._impala=null,this._input.dataset.kwimpalastatus="dead"),!0;if(this.utils.isVisible(this._input)){null===this._impala&&(this._impala=this.utils.createElement("span"),this._fadeInAnimator||(this._impala.style.opacity="0",this._fadeStart=0,this._fadeInAnimator=setInterval(()=>{this._fadeStart||(this._fadeStart=+new Date);var e=(+new Date-this._fadeStart)/this._fadeDuration;e>=1&&(e=1,clearInterval(this._fadeInAnimator),this._fadeInAnimator=!1),this._impala.style.opacity=e.toString()},this._fadeInterval)),this._input.parentElement.appendChild(this._impala),this.placeImpala(this._impala),this._impala.addEventListener("click",e=>{this.lastPopElementClicked&&this.lastPopElementClicked._signalBlurForCpp(),this.lastPopElementClicked=this,this.signalFocusForCpp()}));const e=this.utils.css(this._input,"z-index")||1e5;return this._impala.style.backgroundImage="url("+n+")",this._impala.style.backgroundRepeat="no-repeat",this._impala.style.backgroundPosition="0 0",this._impala.style.border="none",this._impala.style.display="inline",this._impala.style.visibility="visible",this._impala.style.zIndex=e.toString(),this._visibleChecker||(this._visibleChecker=setInterval(()=>{this.utils.isVisible(this._input)||this.highlightBorder()},1e3)),this._invisibleChecker&&(clearInterval(this._invisibleChecker),this._invisibleChecker=!1),!0}return this._impala&&(this._impala.style.display="none"),this._invisibleChecker||(this._invisibleChecker=setInterval(()=>{this.utils.isVisible(this._input)&&this.highlightBorder()},500)),this._visibleChecker&&(clearInterval(this._visibleChecker),this._visibleChecker=!1),!0}return this._mustDisplayImpala=!1,!1}catch(e){return this.utils.log("KW__HighlightBackground.highlightBorder() faild :\n"+e),!1}}getPositionForImpalas(){const e={pos:this.getPositionAndSizeOfInput(),impalaWidth:19,impalaHeight:13,marginX:3};return e.pos.width<70&&(e.marginX=0,e.impalaWidth=Math.round(e.impalaWidth*e.pos.width/70)),e}placeImpala(e){const{pos:t,impalaWidth:n,impalaHeight:i,marginX:r}=this.getPositionForImpalas();this._lastLeft=t.left+t.width-n-r,this._lastTop=t.top+(t.height-i)/2,this.utils.setCss(e,{left:`${this._lastLeft}px`,top:`${this._lastTop}px`,width:`${n}px`,minWidth:`${n}px`,height:`${i}px`,position:"absolute"});const o=this.utils.kw_getBoundingClientRect(this._input),s=this.utils.kw_getBoundingClientRect(e);this._marginLeft=o.left-s.left+(t.width-n-r),this._marginTop=o.top-s.top+(t.height-i)/2,(Math.abs(this._marginTop)>=1||Math.abs(this._marginLeft)>=1)&&(this._lastLeft+=this._marginLeft,this._lastTop+=this._marginTop,this.utils.setCss(e,{left:`${this._lastLeft}px`,top:`${this._lastTop}px`}))}getPositionAndSizeOfInput(){const e=this.utils.outerWidth(this._input),t=this.utils.outerHeight(this._input),n=this.utils.jqPos(this._input);return{top:n.top-parseFloat(window.getComputedStyle(this._input).marginTop),left:n.left-parseFloat(window.getComputedStyle(this._input).marginLeft),width:e,height:t}}signalFocusForCpp(){if(!this._mutexForFocusLoop&&!this.store.elementsWatched.preventFocus){if(this._mutexForFocusLoop=!0,this._mustDisplayImpala)try{const e=this.getFocusOrderToSend();e.isSome()&&this.comms.KW__sendPluginEvent(e.unwrap()),this._mutexForFocusLoop=!1,!0===this._dynamicConfig.sendLiveValue&&this.signalValueForCpp()}catch(e){this.utils.log("KW__HighlightBackground.signalFocusForCpp() faild [1] :\n"+e)}this._mutexForFocusLoop=!1}}getPositionOfPopsFromDocument(){var e=this._input.getBoundingClientRect(),t=this._input.offsetHeight;return{top:e.top+t,left:e.left}}getFocusOrderToSend(){if(!this._dynamicConfig.informationNeeded||!this._dynamicConfig.precision)return new i.None;var e=this.getPositionOfPopsFromDocument();if(e.top<10)return new i.None;var t=this.getPositionAndSizeOfInput();const n=o.gatherElementValues(this.store),r=Object.assign({action:"focusDescriptionsForAutoFill",informationNeeded:this._dynamicConfig.informationNeeded,precisionType:this._dynamicConfig.precision,meaningPageId:this._dynamicConfig.meaningPageId,srcElementId:this._dynamicConfig.identifier,elementCurrentValue:this._input.value,offsetX:42,offsetY:42,clientX:e.left,clientY:e.top,srcElementWidth:t.width,srcElementHeight:t.height},n);return new i.Some(r)}signalBlurForCpp(){this._mutexForFocusLoop||this.store.elementsWatched.preventFocus||this.comms.KW__sendPluginEvent({action:"blurDescriptionsForAutoFill"})}}t.Impalas=h;const d=(()=>{let e=+new Date,t=1;return function(n,i,r){const o=`${e}-${++t}`;n.impala.register(i,o),r.dataset.kwimpalaid=o}})();t.default=function(e){const{utils:t,getFromCache:n,store:i,comms:o}=e,c=e.order;if(function(e){e.impala.getAll().match({some:e=>e.forEach(e=>e.markAsDead()),none:void 0})}(i),c.elements){const r=n=>({some:t=>(function(e){const{nodeOnPage:t,element:n,utils:i,comms:r,store:o}=e,a={elementType:n.elementType,hashId:n.hashId,knownValue:n.knownValue,mustDestroy:Boolean("YES"===n.mustDestroy),position:n.position,frame:n.frame,invisible:n.invisible,showInput:!1,sendLiveValue:!1};n.hasOwnProperty("informationNeeded")&&(a.informationNeeded=n.informationNeeded,n.hasOwnProperty("meaningPageId")&&(a.precision=n.precision||n.precisision,a.meaningPageId=n.meaningPageId,a.identifier=n.identifier,a.sendLiveValue=n.sendLiveValue&&"YES"===n.sendLiveValue));const l=t;s.getImpalaIdentifierFromElement(l).match({none:()=>{const e=new h(i,r,o).create(l,a);d(o,e,l)},some:e=>{const t=o.impala.get(e);if(o.impala.updateSrcElementId(e,a.identifier),!t.isSome())throw new Error("Should not happen, impala not found in store");t.unwrap().update(l,a)}})})(Object.assign({element:n,nodeOnPage:t},e)),none:()=>t.warn(`[IMPALAS] Did not find element ${n.hashId}, this should not happen :o`)}),o=!i.initialData.maverickStatus;c.elements.filter(e=>a.elementsForThisFrame(e,t.getUniqueFrameId(),o)).map(e=>({eData:e,eOption:a.getElementFromCacheWithElementData(e,n)})).forEach(({eData:e,eOption:t})=>t.match(r(e)))}!function(e,t){const n=e.elements&&e.elements.reduce((e,t)=>e+(Boolean(t.knownValue)?1:0),0)||0;if(null!==window.location.href.match(r.default.onboardingStepRegexp.step2)&&n>=2){t.log("Handle onboarding stuff please!");const e=t.kwQuerySelector("#loading-wrapper"),n=t.kwQuerySelector("#form-suggestion2"),i=t.kwQuerySelector("#kw-can-i-remove-the-overlay");e?(t.setCss(e,{display:"none",opacity:0}),t.setCss(n,{opacity:1,visibility:"visible"})):i&&(i.value="true")}}(c,t),function(e){e.impala.getAll().match({some:e=>e.filter(e=>!e.isAlive()).forEach(e=>e.kill()),none:void 0})}(i),l.sendTimeToImpalaPerfLog(i,t,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3);t.default=function(e){const{inputOffset:t,inputH:n,scrollTop:r,viewPort:o,dropdownDim:s}=e;return{bottom:()=>({x:t.left-i.default.WEBUI_DROPDOWN_OFFSET,y:t.top+n,dir:"bottom",animOrigin:"0px 0px"}),left:()=>{const e=r+o.height-s.height;let a=-42;return a=t.top<e?t.top+i.default.ALIGN_OFFSET:e,{x:t.left-i.default.DROPDOWN_SIDE_WIDTH-i.default.WEBUI_DROPDOWN_OFFSET-15,y:a,dir:"left",animOrigin:s.width+"px "+Math.max(-1*i.default.ALIGN_OFFSET,t.top-a+n/2)+"px"}},right:()=>{const e=r+o.height-s.height;let a=-42;return a=t.top<e?t.top+i.default.ALIGN_OFFSET:e,{x:t.left+i.default.DROPDOWN_SIDE_WIDTH+2*i.default.WEBUI_DROPDOWN_OFFSET+15,y:a,dir:"right",animOrigin:"0px "+Math.max(-1*i.default.ALIGN_OFFSET,t.top-a+n/2)+"px"}},top:()=>({x:t.left-i.default.WEBUI_DROPDOWN_OFFSET,y:t.top-s.height,dir:"top",animOrigin:"0px "+s.height+"px"})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3);t.default=function(e){const{inputOffset:t,inputH:n,inputW:r,scrollTop:o,scrollLeft:s,viewPort:a,dropdownDim:l}=e;return{bottom:()=>{const e=a.height-(t.top+n-o);return Math.min(a.width,l.width)*Math.min(e,l.height)},left:()=>{const e=t.left-s;return Math.min(e,i.default.DROPDOWN_SIDE_WIDTH)*Math.min(a.height,l.height)},right:()=>{const e=a.width-(t.left+r-s);return Math.min(e,i.default.DROPDOWN_SIDE_WIDTH)*Math.min(a.height,l.height)},top:()=>Math.min(a.width,l.width)*Math.min(t.top-o,l.height)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(17),r=n(16);t.default=function(e){const{dropdownDim:t,inputOffset:n,inputW:o,inputH:s,viewPort:a,scrollTop:l,scrollLeft:c,isSafari:u}=e,h=i.default({inputOffset:n,inputH:s,inputW:o,scrollTop:l,scrollLeft:c,viewPort:a,dropdownDim:t}),d=r.default({inputOffset:n,inputH:s,scrollTop:l,viewPort:a,dropdownDim:t}),m=t.width*t.height,f={};let p=["bottom","left","right","top"];u&&(p=["top","left","right","bottom"]);for(let e=0,t=p.length;e<t;++e){const t=p[e];if(f[t]=h[t](),f[t]===m)return d[t]()}return d[p.reduce(function(e,t){return f[e]>f[t]?e:t},p[0])]()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),r=n(18),o=n(0),s=n(1);t.default=function(e){const{utils:t,comms:n,store:a}=e;function l(e){const n=e.iframe,s=n.querySelector("iframe"),l=n.querySelector(".kwbg"),c=n.querySelector(".kwanimcontainer"),u=function(){let e=0;const n=t.kwQuerySelector("body");return"relative"===t.css(n,"position")&&(e=t.offset(n).left+parseInt(t.css(n.parentNode,"padding-left"),10)),e}(),h=e.geometry.height;let d=function(e,t,n){return!0===t?1===parseInt(n,10)?232:433:(e>650?e=650:e<300&&(e=300),e+2*i.default.WEBUI_DROPDOWN_OFFSET)}(e.infos.srcElementPos.width,e.infos.useFancyCards,e.infos.numberOfCards);const m=function(e,n,i){const s=a.impala.getFromSrcElementId(e);if(s.isSome()){const e=s.unwrap().getImpala();return r.default({isSafari:"SAFARI"===o.getBrowser(),dropdownDim:i,inputOffset:t.offset(e),inputW:t.outerWidth(e),inputH:t.outerHeight(e),viewPort:t.getViewport(),scrollTop:t.scrollTop(),scrollLeft:t.scrollLeft()})}if(t.log("[WEBUI] The element is inside an iframe..."),document.activeElement&&("IFRAME"===document.activeElement.nodeName||"FRAME"===document.activeElement.nodeName)){const e=t.offset(document.activeElement);return e.left+=n.clientX,e.top+=n.clientY,e.top-=n.height,r.default({isSafari:"SAFARI"===o.getBrowser(),dropdownDim:i,inputOffset:e,inputH:n.height,inputW:n.width,viewPort:t.getViewport(),scrollTop:t.scrollTop(),scrollLeft:t.scrollLeft()})}return t.log("[WEBUI] Cannot find iframe, default positioning."),{x:300,y:300}}(e.infos.srcElementId,e.infos.srcElementPos,{width:d,height:h});"left"!==m.dir&&"right"!==m.dir||(d=i.default.DROPDOWN_SIDE_WIDTH+2*i.default.WEBUI_DROPDOWN_OFFSET),0===t.outerHeight(n)&&(t.setCss(c,{transform:"scale(0)",WebkitTransform:"scale(0)",MozTransform:"scale(0)",transformOrigin:m.animOrigin,WebkitTransformOrigin:m.animOrigin,MozTransformOrigin:m.animOrigin}),t.requestAnimationFrame(()=>{t.setCss(c,{transform:"scale(1)",WebkitTransform:"scale(1)",MozTransform:"scale(1)",transition:"transform 150ms cubic-bezier(0.11, 0.61, 0.93, 0.99)",WebkitTransition:"-webkit-transform 150ms cubic-bezier(0.11, 0.61, 0.93, 0.99)",MozTransition:"-moz-transform 150ms cubic-bezier(0.11, 0.61, 0.93, 0.99)"})})),t.setCss(s,{width:`${d}px`,height:`${h}px`}),t.setCss(l,{top:"bottom"===m.dir?"14px":0,left:"right"===m.dir?"14px":0,width:`${d}px`,height:`${h}px`}),t.setCss(n,{width:`${d+0}px`,height:`${h+0}px`,top:`${m.y}px`,left:`${m.x-u}px`})}return window.addEventListener("resize",()=>{const e=a.webUI.getAll();Object.keys(e).forEach(t=>e[t].resizeHandler())}),Promise.resolve({show:function(e){if(!t.isMainWindow())return;const r=JSON.parse(e.infos);a.webUI.remove(r.uiId);let s=function(e,n){let r=t.extensionGetUrl("content/webui/index.html");r+="?type="+e.type+"&token="+e.uiId+"&browser="+o.getBrowserForWebuiCommunication();const s=t.createElement("iframe");return s.setAttribute("src",r),s.setAttribute("type","content"),s.dataset.dashlanecreated="1","SAFARI"===o.getBrowser()&&(s.onmousewheel=function(){}),n?(t.setCss(s,i.default.dropdownIframeCss),s.setAttribute("style",s.getAttribute("style")+"; visibility: visible !important;")):(t.setCss(s,i.default.popupIframeCss),s.setAttribute("style",s.getAttribute("style")+"; visibility: visible !important; z-index: "+i.default.LEVEL_ZERO_INDEX+" !important;")),s}(r,"autofill-dropdown"===r.type);"autofill-dropdown"===r.type&&(s=function(e){const n=t.createElement("div");t.setCss(n,i.default.dropdownContainerCss);const r=t.createElement("div");r.classList.add("kwanimcontainer"),n.appendChild(r);const o=t.createElement("div");return o.classList.add("kwbg"),t.setCss(o,i.default.dropdownBackgroundCss),r.appendChild(o),r.appendChild(e),n.dataset.dashlanecreated="1",n}(s));const c=e=>0===r.numberOfCards||(e.target!==s&&this.hide({uiId:r.uiId})&&n.KW__sendPluginEvent({action:"signalWebUIHidden",type:"autologin-selection",dismissed:!0}),!0);if(a.webUI.register({infos:r,iframe:s,geometry:r.geometry,useFancyCards:r.useFancyCards,numberOfCards:r.numberOfCards,clickHandler:c,resizeHandler:e=>("autofill-dropdown"===r.type&&this.hide({uiId:r.uiId})&&n.KW__sendPluginEvent({action:"signalWebUIHidden",type:"autofill-dropdown"}),!0)}),function e(n){const i=t.kwQuerySelector("body"),r=t.kwQuerySelectorAll("frameset");i||r?i?i.appendChild(n):r[0].parentNode.appendChild(n):setTimeout(function(){e(n)},50)}(s),r.geometry){const e=a.webUI.get(r.uiId);if(!e.isSome())throw new Error(`There are no webUIInstance for ${r.uiId}`);l(e.unwrap())}"autologin-selection"===r.type&&document.addEventListener("click",c)},hide:function(e){return a.webUI.get(e.uiId).mapOr(!1,t=>(t.iframe.parentNode.removeChild(t.iframe),"autologin-selection"===t.infos.type&&document.removeEventListener("click",t.clickHandler,!0),a.webUI.remove(e.uiId),!0))},signalWebUIGeometry:function(e){a.webUI.get(e.uiId).match({some:n=>{const i=JSON.parse(e.geometry);n.geometry=i,"autofill-dropdown"===n.infos.type?l(n):function(e){const n=e.iframe,i=s.wrapValueToOption(n.querySelector("iframe")),r=s.wrapValueToOption(n.querySelector(".kwanimcontainer"));0===t.outerHeight(n)&&r.match({some:e=>{t.setCss(e,{transform:"scale(0)",WebkitTransform:"scale(0)",MozTransform:"scale(0)",transformOrigin:"right top",WebkitTransformOrigin:"right top",MozTransformOrigin:"right top"}),t.requestAnimationFrame(()=>{t.setCss(e,{transform:"scale(1)",WebkitTransform:"scale(1)",MozTransform:"scale(1)",transition:"transform 150ms cubic-bezier(0.11, 0.61, 0.93, 0.99)",WebkitTransition:"-webkit-transform 150ms cubic-bezier(0.11, 0.61, 0.93, 0.99)",MozTransition:"-moz-transform 150ms cubic-bezier(0.11, 0.61, 0.93, 0.99)"})})},none:()=>t.warn("Something went wrong, cannot find webUI iframe")}),i.match({some:n=>t.setCss(n,{width:`${e.geometry.width}px`,height:`${e.geometry.height}px`}),none:()=>t.warn("Something went wrong, cannot find webUI iframe")}),t.setCss(n,{width:`${e.geometry.width}px`,height:`${e.geometry.height}px`})}(n)},none:void 0})}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(19),r=n(15),o=n(11),s=n(10),a=n(5),l=n(1);t.default=function(e){const{initCommunication:t,initUtils:n,initStructure:c,initStore:u,initAutofill:h,initApi:d}=e;return Promise.all([n(),u()]).then(([e,n])=>(n.performance.tti.init(),t(e).then(t=>Promise.all([c(n),h(t)]).then(([c,u])=>{e.log("[INIT] Script initialized"),n.setUtils(e),t.initPluginListeners();const h=l.generateDeferredPromise();!function(e){const{comms:t,utils:n,structure:l,store:c}=e;t.registerOrderHandler("controlMessageToWebpage",e=>{switch(e.demand){case"tabBecomeKey":l.authorizedDomStructureCalculation(t,n,c.initialData.maverickStatus);break;case"tabResignKey":l.unauthorizedDomStructureCalculation()}}),t.registerOrderHandler("highlightInputsForAutoComplete",e=>{r.default({order:e,utils:n,comms:t,store:c,getFromCache:l.getFromCache.bind(l,n)})}),t.registerOrderHandler("showWebUI",e=>{i.default({utils:n,comms:t,store:c}).then(t=>t.show(e))}),t.registerOrderHandler("signalWebUIGeometry",e=>{i.default({utils:n,comms:t,store:c}).then(t=>t.signalWebUIGeometry(e))}),t.registerOrderHandler("hideWebUI",e=>{i.default({utils:n,comms:t,store:c}).then(t=>t.hide(e))}),t.registerOrderHandler("putEventHandlers",e=>{o.default({order:e,comms:t,utils:n,getFromCache:l.getFromCache.bind(l,n),store:c})}),t.registerOrderHandler("signalElementsToWatchValue",e=>{s.default({order:e,utils:n,getFromCache:l.getFromCache.bind(l,n),store:c})}),t.registerOrderHandler("initialData",t=>{c.initialData.maverickStatus=t.maverickStatus,c.initialData.isUserLoggedIn=t.isUserLoggedIn,e.initialDataIsInitialized()}),t.registerOrderHandler("fillElements",i=>{e.autofill.fillElements({order:i,comms:t,utils:n,getFromCache:l.getFromCache.bind(l,n),store:c})}),t.registerOrderHandler("displayOnboardingSuccessOverlay",e=>{const t=n.createElement("iframe");t.setAttribute("src",e.url),t.setAttribute("rel","KW__OnboardingSuccessLayer"),n.setCss(t,{width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:999999}),n.kwQuerySelector("body").appendChild(t)}),t.registerOrderHandler("hideOnboardingSuccessOverlay",()=>{const e=n.kwQuerySelector("iframe[rel=KW__OnboardingSuccessLayer]");e&&e.remove()}),t.registerOrderHandler("DashlaneAPIResponse_getUserOnboardingSites",a.getUserOnboardingSitesCallback)}({comms:t,utils:e,structure:c,store:n,autofill:u,initialDataIsInitialized:h.resolve}),d({comms:t,store:n,initialDataIsInitialized:h.promise,utils:e})}))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2);t.createPerformanceStore=(()=>{let e=null;return{tti:{init:()=>{e={startDate:(new Date).getTime()}},reset:()=>{e=null},addInformation:(t,n)=>{e&&(e.domStructureSize=t,e.isAjax=n)},getResult:()=>{const t=e;if(e=null,t&&t.startDate){const e=(new Date).getTime();return t.time=e-t.startDate,new i.Some(t)}return new i.None}}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),r=n(21);t.default=function(){let e={log:null};return Promise.resolve({setUtils:t=>e.log=t.log.bind(t),impala:function(e){const t={},n={};return{updateSrcElementId:(e,t)=>n[t]=e,register:(i,r)=>{if(e.log(`[STORE] Registering impalas ${r} for element ${i.getSrcElementId()}`),null!=t[r])throw new Error("Should not happen, id already registered");t[r]=i,n[i.getSrcElementId()]=r},getFromSrcElementId:e=>{const r=n[e];return i.wrapValueToOption(t[r])},get:e=>i.wrapValueToOption(t[e]),getAll:()=>i.wrapValueToOption(Object.keys(t).map(e=>t[e]))}}(e),webUI:function(){const e={};return{register:t=>{const{infos:n,iframe:i,clickHandler:r,resizeHandler:o}=t;e[n.uiId]={infos:n,iframe:i,geometry:n.geometry,useFancyCards:n.useFancyCards,numberOfCards:n.numberOfCards,clickHandler:r,resizeHandler:o}},get:t=>i.wrapValueToOption(e[t]),remove:t=>delete e[t],exists:t=>Boolean(e[t]),getAll:()=>e}}(),elementsWatched:function(){let e=[];return{register:t=>e.push(t),getAll:()=>e,removeAll:()=>e=[],preventFocus:!1}}(),performance:r.createPerformanceStore(),initialData:{maverickStatus:null,isUserLoggedIn:null}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{elementOnThePage:t}=e;let n=document.location;if(n&&n.host&&"www.icloud.com"===n.host){let e=document.createEvent("MouseEvents");e.initEvent("mousedown",!0,!1),t.dispatchEvent(e),(e=document.createEvent("MouseEvents")).initEvent("mouseup",!0,!1),t.dispatchEvent(e)}else t.click();(!document.location||!n.host||"accounts.google.com"!==n.host)&&t.getAttribute("disabled")&&setTimeout(function(){t.click()},500)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);t.default=function(e){const{elementOnThePage:t}=e;let n=!1;const r=document.createEvent("MouseEvents");if(r.initEvent("click",!0,!0),(!(n=t.dispatchEvent(r))||!1!==r.returnValue)&&n){let e=t;for(;"A"!==e.nodeName.toUpperCase();){if("BODY"===e.nodeName.toUpperCase()||"FRAMESET"===e.nodeName.toUpperCase())return;e=e.parentNode}e.href&&"#"!==e.href&&e.href!==window.location.protocol+"//"+window.location.host+"/#"&&e.href!==window.location.href+"#"&&("FIREFOX"===i.getBrowser()?window.location.assign(e.href):e.href&&0!==e.href.indexOf("javascript:")&&window.location.assign(e.href))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(24),r=n(23);t.default=function(e){switch(e.elementData.elementType.toUpperCase()){case"A":case"IMG":i.default(e);break;default:r.default(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{utils:t,elementToFill:n}=e,i=e.elementOnThePage;return i.value=n.value,n.noFocus||t.fireEvent("click",i),t.fireEvent("input",i),t.fireEvent("blur",i),t.fireEvent("change",i),!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);t.default=function(e){const{utils:t,elementToFill:n}=e,r=e.elementOnThePage;let o=!1;if(t.fireEvent("focus",r),r.selectedIndex>=0&&r.options.length>r.selectedIndex&&r.options[r.selectedIndex]&&r.options[r.selectedIndex].value===n.value)o=!1;else{let e,t;for(e=0,t=r.options.length;e<t;e++)if(r.options[e].value===n.value)return r.selectedIndex!==e&&(o=!0,r.options[e].selected=!0),!1;if(!o)for(e=0,t=r.options.length;e<t;e++)if(i.kwTrim(r.options[e].text)===i.kwTrim(n.value))return r.selectedIndex!==e&&(o=!0,r.options[e].selected=!0),!1}return!!o&&(n.noFocus||t.fireEvent("click",r),t.fireEvent("input",r),t.fireEvent("blur",r),t.fireEvent("change",r),!0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{elementToFill:t}=e,n=e.elementOnThePage;return!(!(t&&t.value&&(!0===t.value||t.value.toLowerCase&&"true"===t.value.toLowerCase()))||!1!==n.checked||(n.click(),n.checked=!0,0))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{utils:t,elementToFill:n}=e,i=e.elementOnThePage,r=parseInt(i.getAttribute("maxlength"),10);if(r>0&&(n.value=(n.value+"").substr(0,r)),i.value!==n.value){const e=window.location.hostname;var o=e.indexOf&&0===e.indexOf("scgi.ebay");return"www.premiere.fr"===e||"premiere.fr"===e||o||("www.bluefly.com"!==e&&"bluefly.com"!==e&&t.fireEvent("focus",i),t.fireEvent("click",i),t.fireEvent("keydown",i)),i.value=n.value,"www.betfair.com"===e&&t.fireEvent("keypress",i),!o&&("www.premiere.fr"!==e&&"premiere.fr"!==e&&(t.fireEvent("input",i),t.fireEvent("keyup",i)),t.fireEvent("blur",i),t.fireEvent("change",i),!0)}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(29),r=n(28),o=n(27),s=n(26),a=n(0);t.default=function(e){const{elementToFill:t,elementOnThePage:n,utils:l,comms:c}=e;let u=!1,h=!0;switch(t.elementType.toUpperCase()){case"INPUT_TEXT":case"INPUT_PASSWORD":u=i.default(e);break;case"INPUT_CHECKBOX":case"INPUT_RADIO":u=r.default(e),h=!1;break;case"SELECT":u=o.default(e);break;default:u=s.default(e)}if(u&&(c.KW__sendPluginEvent({action:"signalAutofillDone",informationNeeded:t.informationNeeded}),h)){l.setCss(n,{backgroundColor:"#ffc"});const e=l.css(n,"color");e&&(()=>a.convertColorToLevel(e)>600)&&l.setCss(n,{color:"#313131"})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(30),r=n(25),o=n(0),s={"login.fidelity.com":1,"retail.onlinesbi.com":1,"registration.myway.com":1,"infinity.icicibank.com":1,"shopping.icicibank.com":1,"cib.icicibank.com":1,"www.axisbank.co.in":1,"www1.royalbank.com":1,"www.att.com":1,"www.citibank.com.sg":1,"secure.e-leclerc.com":1,"investeasy.reliancemutual.com":1,"www.onlineandhrabank.net.in":1,"www.bbvanetcash.com":1,"www.austinbankonline.com":1,"my.lonestar.edu":1,"online.cctcbank.com":1,"www.lanb.com":1,"secure.unitedbankofmichigan.com":1,"sis.imsa.edu":1,"sms.bookshelf.ebookplus.pearsoncmg.com":1,"support.ciber.com":1,"www.synel76.com":1,"wellsoffice.wellsfargo.com":1,"telanganaepass.cgg.gov.in":1,"www.tnebnet.org":1,"netbanking.netpnb.com":1,"corp.onlinesbi.com":1,"merchant.onlinesbi.com":1,"retail.onlinesbh.com":1,"www.onlinesbh.com":1,"www.fednetbank.com":1,"pib.uob.com.sg":1,"secure.cbbank.com":1,"ebank.pinnbank.com":1,"aipvt.vci.nic.in":1,"wiki.answers.com":1,"online.citi.com":1,"www.bankofamerica.com":1,"www.ups.com":1};function a(e){const{store:t,order:n,utils:s,getFromCache:a}=e;if(n.elements){const l=t=>({some:n=>(function(e){const{utils:t,comms:n,elementToFill:o,elementOnThePage:s}=e;t.isElementHidden(s)?t.warn(`Not autofill/clicking on ${o.hashId} because it's hidden`):("IN"===o.type?(e.store.elementsWatched.preventFocus=!0,i.default({utils:t,comms:n,elementOnThePage:s,elementToFill:o})):"OUT"===o.type?r.default({utils:t,elementOnThePage:s,elementData:o}):t.warn(`Unknown fill type ${o.type}`),e.store.elementsWatched.preventFocus=!1)})(Object.assign({elementOnThePage:n,elementToFill:t},e)),none:()=>s.warn(`Element ${t.hashId} could not be found`)}),c=!t.initialData.maverickStatus;n.elements.filter(e=>o.elementsForThisFrame(e,s.getUniqueFrameId(),c)).map(e=>({eData:e,eOption:o.getElementFromCacheWithElementData(e,a)})).forEach(({eData:e,eOption:t})=>t.match(l(e)))}}t.default=function(){const e={shouldSendCachedValueForAuthenticationFields:e=>Boolean(s[e.getHostname()]),fillElements:a};return Promise.resolve(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i={goToAuthentication:{domType:"INPUT",attributes:"submit@submit@submit@signin@sign in@sign in@@KwDiaoTag",context:"Sign in"},continueBuyProcedure:{domType:"INPUT",attributes:"submit@submit@submit@proceed to checkout@proceed to checkout@proceed to checkout@@KwDiaoTag",context:"Proceed to Checkout"},goToCreateAccount:{domType:"INPUT",attributes:"submit@submit@submit@createaccount@create account@create account@@KwDiaoTag",context:"Create Account"},_continue:{domType:"INPUT",attributes:"submit@submit@submit@continue@continue@continue@@KwDiaoTag",context:"Continue"}};t.divIsAnOutDomainSpecificFilters={"app.asana.com":[{elementConfig:{selector:"span",whitelist:["change password"]},fakeConfig:i._continue}],"www.hautelook.com":[{elementConfig:{selector:"div.cart_buttons>div.checkout_btn p",whitelist:[]},fakeConfig:i.continueBuyProcedure}],"billetavion.opodo.fr":[{elementConfig:{selector:"#moUserLoginForm .button_div",whitelist:[]},fakeConfig:i.goToAuthentication},{elementConfig:{selector:"#moCustomerRegistrationForm .button_div",whitelist:[]},fakeConfig:i.goToCreateAccount}],"member.aetna.com":[{elementConfig:{selector:"button#secureLoginBtn",whitelist:[]},fakeConfig:i.goToAuthentication}],"www.ea.com":[{elementConfig:{selector:"div.image-composite-red-button.sign-in-btn.float-right",whitelist:[]},fakeConfig:i.goToAuthentication}],"secure.ibis.com":[{elementConfig:{selector:"div#login-submit",whitelist:[]},fakeConfig:i.goToAuthentication}],"s-ibisbudgethotel.ibis.com":[{elementConfig:{selector:"div#login-submit",whitelist:[]},fakeConfig:i.goToAuthentication}],"www.sixt.fr":[{elementConfig:{selector:"form#login_form>div.sx-gc-customerform>div.sx-gc-leftfloater>div.sx-gc-button-wrapper>p.sx-gc-button-normal-red",whitelist:[]},fakeConfig:i.goToAuthentication}],"secure.accorhotels.com":[{elementConfig:{selector:"div#login-submit",whitelist:[]},fakeConfig:i.goToAuthentication}],"www.zionsbank.com":[{elementConfig:{selector:"form#logonForm div.go-btn.submit",whitelist:[]},fakeConfig:i.goToAuthentication}],"www.vudu.com":[{elementConfig:{selector:".sign-in-panel table.green-button",whitelist:[]},fakeConfig:i.goToAuthentication}],"my.vudu.com":[{elementConfig:{selector:"table.green-button",whitelist:[]},fakeConfig:i._continue}],"slaveryfootprint.org":[{elementConfig:{selector:"div.signup_body>span.button_dark",whitelist:[]},fakeConfig:i.goToAuthentication}],"myaccount.payoneer.com":[{elementConfig:{selector:"#btLogin",whitelist:[]},fakeConfig:i.goToAuthentication}],"www.lockerdome.com":[{elementConfig:{selector:"div.password div.save-settings div.save",whitelist:[]},fakeConfig:i._continue}],"hootsuite.com":[{elementConfig:{selector:"._emailPasswordForm .button._submit",whitelist:[]},fakeConfig:i.goToAuthentication}],"www.ask.com":[{elementConfig:{selector:"form#passwordForm span",whitelist:["save changes"]},fakeConfig:i._continue}],"1linx.com":[{elementConfig:{selector:"div.started_btn",whitelist:["get started!"]},fakeConfig:i._continue}],"www.coastal.com":[{elementConfig:{selector:"div#myaccount-signin-button",whitelist:[]},fakeConfig:i.goToAuthentication}],"order.pizzahut.com":[{elementConfig:{selector:"div#login-submit",whitelist:["sign in"]},fakeConfig:i.goToAuthentication}],"mya.godaddy.com":[{elementConfig:{selector:"#securitysettings div#submitDiv",whitelist:[]},fakeConfig:i._continue}],"app.smartsheet.com":[{elementConfig:{selector:"div.clsStandardButtonContent",whitelist:["continu"]},fakeConfig:i.goToCreateAccount}],"cart.godaddy.com":[{elementConfig:{selector:"form>div>div",whitelist:["sign in"]},fakeConfig:i.goToAuthentication}],"online.metlife.com":[{elementConfig:{selector:"#phoenix_Login_0 span.loginButton.dijitButton",whitelist:[]},fakeConfig:i.goToAuthentication}],"www.trillian.im":[{elementConfig:{selector:"div.button",whitelist:["sign in"]},fakeConfig:i.goToAuthentication}],"www.textbooks.com":[{elementConfig:{selector:'div[class*="btn_signin"]',whitelist:[]},fakeConfig:i.goToAuthentication}],"www.hannaandersson.com":[{elementConfig:{selector:"#signInForm > div",whitelist:["sign in"]},fakeConfig:i.goToAuthentication}],"fs.dashlane.com":[{elementConfig:{selector:"#submissionArea > span",whitelist:["connexion","sign in"]},fakeConfig:i.goToAuthentication}],"emauth.em-lyon.com":[{elementConfig:{selector:"#submissionArea > span",whitelist:["connexion","sign in"]},fakeConfig:i.goToAuthentication}],"www.achatpublic.com":[{elementConfig:{selector:"span#connect_now_button_part2",whitelist:[]},fakeConfig:i.goToAuthentication}],"www.pm-international.com":[{elementConfig:{selector:"#do_login > div",whitelist:["login","connexion","ログイン","登入"]},fakeConfig:i.goToAuthentication}],"protect.selection1818.com":[{elementConfig:{selector:'span[class="v-button-caption"]',whitelist:["se connecter"]},fakeConfig:i.goToAuthentication}],"pro.douane.gouv.fr":[{elementConfig:{selector:'div.WDLEntrer_1[title*="Cliquer pour entrer"]',whitelist:[]},fakeConfig:i.goToAuthentication}],"www.hearthstone-decks.com":[{elementConfig:{selector:"#connexion_inner_wrapper > div",whitelist:["connexion"]},fakeConfig:i.goToAuthentication}],"gls-group.eu":[{elementConfig:{selector:"span#gls_app_button_0_label",whitelist:[]},fakeConfig:i.goToAuthentication}],"mobilitymanager.ee.co.uk":[{elementConfig:{selector:"div#login_button",whitelist:[]},fakeConfig:i.goToAuthentication}],"edadfed.ed.ac.uk":[{elementConfig:{selector:"#submissionArea > span",whitelist:["sign in","connexion"]},fakeConfig:i.goToAuthentication}],"m.facebook.com":[{elementConfig:{selector:'div[data-sigil*="login_password_step_element"]:has(button[data-sigil*="m_login_button"])',whitelist:[]},fakeConfig:i.goToAuthentication}],"www.humblebundle.com":[{elementConfig:{selector:'span[class="navbar-item-dropdown-text"],span[class="navbar-item-text"]',whitelist:["log in"]},fakeConfig:i.goToAuthentication}],"seekingalpha.com":[{elementConfig:{selector:"span.data-login-text",whitelist:["sign in"]},fakeConfig:i.goToAuthentication}],"sso.dashlane.com":[{elementConfig:{selector:"#submissionArea > span",whitelist:["sign in","connexion"]},fakeConfig:i.goToAuthentication}],"sts.corp.xerox.com":[{elementConfig:{selector:"#submissionArea > span",whitelist:["sign in"]},fakeConfig:i.goToAuthentication}],"www.tati.fr":[{elementConfig:{selector:"#btn_creer_compte > span",whitelist:["je crée mon compte"]},fakeConfig:i.goToCreateAccount},{elementConfig:{selector:"#AuthErr > span",whitelist:["valider"]},fakeConfig:i.goToAuthentication}]};t.divIsAnOutGenericFilter={elementConfig:{selector:"div[role='button'], span[role='button'], div[onclick], span[onclick]",whitelist:["change","connect","log","next","password","sign","regist","connexion","entrer","inscri","mot de passe","suivant","passwort","weiter","cambia","contraseña","siguiente","avanti","alterar","esqueceu","palavra-passe","próxima","seguinte","senha","パスワード","変更","次へ","密码","密碼","繼續","下一步","忘記","忘记","비밀번호","변경","다음"]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);t.registerMutationObserver=function({utils:e,callback:t}){const n=i.debounce({fn:t,waitTimeFn:i.getCurrentAjaxIncrementalBackoff});new e.mutationObserver(function(e,t){const n=e=>{const t=e.nodeName.toLowerCase();switch(t){case"input":switch(e.getAttribute("type")){case"hidden":case"file":case"reset":case"search":return!1;default:return!0}break;case"select":case"button":case"textarea":case"option":case"frame":case"iframe":return!0;default:return!1}},r=e=>Boolean(e&&e.dataset&&e.dataset.dashlanecreated),o=e=>n(e)&&!r(e)||(e=>{const t=e.querySelectorAll&&e.querySelectorAll("input,select,button,textarea,option,frame,iframe")||[];return i.nodeListToArray(t).some(e=>n(e)&&!r(e))})(e);t.some(e=>i.nodeListToArray(e.addedNodes).some(o))&&e()}.bind(null,n)).observe(document.body,{childList:!0,subtree:!0})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(6),r=n(2),o=n(0);class s{constructor(){this.params={matrixScaleX:3,matrixScaleY:1,matrixCellWidth:8,matrixCellHeight:2,matrixMaxHeight:1e4,lookLeft:125,lookRight:37,lookTop:50,nearInputMaxSummedDistance:600,weightMul:{right:1.3,top:1.2,topLeft:1.4,left:1,center:1},weightAdd:{right:15,top:5,topLeft:4,left:0,center:0},radioCheckboxTopMulAdd:.5,radioCheckboxLeftText:15,radioCheckboxRightText:0,radioCheckboxRightNonText:10,domDistanceDivisor:3,imageMultiplicator:1.4,radioCheckBoxGoAway:200,notLeftInputElementMul:2,notLeftInputElementAdd:10,radioElementMul:5,radioElementAdd:20,normalResultMagicTopAdd:5,uselessContentAdd:10,uselessContentMul:10,noRadioCheckboxContentLengthThreshold:100,noRadioCheckboxContentLengthAdd:10,noRadioCheckboxContentLengthMul:2,noRadioCheckboxContentLengthThreshold2:200,noRadioCheckboxContentLengthMul2:5,contentRightIsExtAdd:100,useColorAndFont:!0,lessLikelyCloseMostLikelyAdd:5,getInitWeightMul:()=>Object.assign({},this.params.weightMul),getInitWeightAdd:()=>Object.assign({},this.params.weightAdd)},this.cellWidth=this.params.matrixCellWidth,this.cellHeight=this.params.matrixCellHeight,this.displayedMaps=!1,this.inputs=[],this.colors=[],this.inputCenters=[],this.lookLeft=this.params.lookLeft,this.lookRight=this.params.lookRight,this.lookTop=this.params.lookTop,this.detailedLogs=!1,this.veryDetailedLogs=!1,this.nearInputsUsed=!0,this.noAnalysisIfTooLong=!0,this.noAnalysisIfTooManyElements=!0,this.analysisElementsLimits=1e4,this.analysisAuthorized=!0,this.maxTimeout=this.noAnalysisIfTooLong?1e3:1e4,this.checkTimeSpentCounter=1,this.kw__injectedKWTag=null,this.startTime=null,this.matrix=[],this.contents=[],this.contentPositions=[],this.range=null,this.useRanges=!1}initialize(e){if(this.range=document.createRange&&document.createRange(),this.useRanges=this.range&&this.range.getBoundingClientRect,this.kw__injectedKWTag=this._createKWInjectedTag(),this.startTime=+new Date,this.noAnalysisIfTooManyElements&&e.kwQuerySelectorAll("input, textarea, select").length>this.analysisElementsLimits)return this.analysisAuthorized=!1,void e.log("Too many inputs, no context v3");this.windowWidth=document.body.clientWidth>>this.params.matrixScaleX,this.windowHeight=document.body.clientHeight>>this.params.matrixScaleY,this.windowHeight=Math.min(this.windowHeight,this.params.matrixMaxHeight),window.Uint16Array?this.matrix=new Uint16Array(this.windowWidth*this.windowHeight):this.matrix=[],this.contents=[],this.contents[0]=null,this.contentPositions=[],this.inputs=[],this.colors=[],this.inputCenters=[],this.v3InputId=1,this.analysisAuthorized=!0,this.checkTimeSpentCounter=1;var t=this;if(this.nearInputsUsed){const n=e.kwQuerySelectorAll("textarea,input,select");o.nodeListToArray(n).filter(e.isVisible).forEach(n=>{var i=e.kw_getBoundingClientRect(n),r=i.top,o=i.left,s=i.right-o,a=i.bottom-r;(s>200||r>50)&&t.inputCenters.push({x:o,y:r}),t.inputCenters.push({x:o+s>>1,y:r+a>>1})})}}destruct(){this.matrix=null,this.contents=null,this.contentPositions=null,this.inputs=null,this.colors=null,this.inputCenters=null}isNearInput(e){var t=e.left,n=e.right,i=e.top,r=e.bottom;if(n-t<=0&&r-i<=0)return!1;for(var o=0,s=this.inputCenters.length;o<s;o++){var a=this.inputCenters[o],l=a.x,c=a.y;if(0!==l||0!==c){var u=0,h=0;if((l<t||l>n)&&(u=l>t?l-n:t-l),(c<i||c>r)&&(h=3*(c>i?c-r:i-c)),u+h<this.params.nearInputMaxSummedDistance)return!0}}return!1}findImageContent(e,t){var n=e.getAttribute("alt");if(""===n){var i=e.getAttribute("src");if(null!==i&&i.length<500){var r=i.lastIndexOf("/");r=-1===r?0:r;var o=i.lastIndexOf(".");n=i.substring(r,o)}}return{content:n,type:"image",domPos:t}}fillWithElement2(e,t,n){var i,o,s=this.windowHeight,a=this.windowWidth;if(!e)return new r.None;var l,c=e.bottom>>this.params.matrixScaleY,u=e.left>>this.params.matrixScaleX,h=e.right>>this.params.matrixScaleX,d=e.top>>this.params.matrixScaleY;if(c<0||d>s||h<0||u>a)return new r.None;for(d<0&&(d=0),c>s&&(c=s),u<0&&(u=0),h>a&&(h=a),i=u;i<h;++i){var m=i*s;for(o=d;o<c;++o){var f=this.matrix[m+o];if(n&&f>0){var p=this.contents[f];if(p){var g,w=p.type;if("textNode"===w&&"textNode"!==t.type){void 0===l&&(l=!((g=this.contentPositions[f]).top<e.top||g.left<e.left)),this.contents[f].inInput=l;continue}"input"===w&&(void 0===l&&(l=!((g=this.contentPositions[f]).top>e.top||g.left>e.left)),t.inInput=l),this.contents[f].inInput=l}}this.matrix[m+o]=this.v3InputId}}return this.contents[this.v3InputId]=t,this.contentPositions[this.v3InputId]=e,new r.Some(this.v3InputId++)}static findGoodContent(e){if(void 0===e)return"";if("("===(e=(e=e.replace(/^[\s\.:\?\-,!@*\\\/]*/g,"")).replace(/[\s]*$/g,"")).charAt(0)&&e.indexOf(")")>5)return"";return 0===e.indexOf("Ex ")||0===e.indexOf("Ex:")?"":e}postAnalysis(e,t,n,i,s){if(this.analysisAuthorized){if(!this.useRanges)for(var a=function(e){for(var t=0,n=e.length,i=Array(n);t<n;)i[t]=e[t],t++;return i}(document.getElementsByTagName("kw_tag")),l=0;l<a.length;l++){var c=a[l];c.parentNode.removeChild(c)}for(var u=this.inputs.length,d=0;d<u;d++){var m=this.inputs[d],f=this.contents[m],p=new h(f,t),g=p.getFinalResult(t);null!==g&&g.content||(g={content:""}),f.results=g;var w=o.kwEscapeCharacters(o.trimSmart(g.content));if(n=n.replace("CONTEXT_"+m+'"',o.kwEscapeCharacters(w)+'"'),i.hasOwnProperty(m))s(i[m].hash.replace("CONTEXT_"+m,w),f.node,new r.None,i[m].domPos),delete i[m];p=null}return n}}_createKWInjectedTag(){return document.createElement("kw_tag")}}t.KWContextV3=s;const a=new s;function l(e){return{oui:1,non:1,"oui non":1,"non oui":1,"yes no":1,"no yes":1,yes:1,no:1}.hasOwnProperty(e.toLowerCase())}function c(e){if({optionnel:1,facultatif:1,info:1,"d'info":1,"d'infos":1,"en savoir plus":1,"en savoir":1,more:1,help:1,aide:1,optional:1,"why we ask?":1,"what's this?":1,"context help":1}.hasOwnProperty(e.toLowerCase()))return!0;return null!==e.match(/^[0-9]*$/)||e.match(/^(e\.g\.|eg|eg\.|e\.g)/)}function u(e){return{x:1,ext:1,extension:1}.hasOwnProperty(e.toLowerCase())}t.default=a;class h{constructor(e,t){if(this.infos=[],this.utils=null,this.utils=t,this.input=e,this.positions=e.positions,this.nodeName=e.node.nodeName,this.nodeName=this.nodeName?this.nodeName.toUpperCase():"","INPUT"===this.nodeName&&(this.nodeType=e.node.getAttribute("type")),this.nodeType=this.nodeType?this.nodeType.toUpperCase():"",this.weightMul=a.params.getInitWeightMul(),this.weightAdd=a.params.getInitWeightAdd(),this.bottom=this.positions.bottom>>a.params.matrixScaleY,this.left=this.positions.left>>a.params.matrixScaleX,this.right=this.positions.right>>a.params.matrixScaleX,this.top=this.positions.top>>a.params.matrixScaleY,this.height=this.bottom-this.top,this.width=this.right-this.left,this.horizontalMiddle=Math.floor(this.top+this.height/2),this.verticalMiddle=Math.floor(this.left+this.width/2),"RADIO"===this.nodeType||"CHECKBOX"===this.nodeType){this.weightMul.top+=a.params.radioCheckboxTopMulAdd;for(var n,i,r=0,o=1,s=a.lookRight;o<s;o++){var l=(this.right+o)*a.windowHeight+this.horizontalMiddle,c=a.contents[a.matrix[l]];if(c||(l=(this.right+o)*a.windowHeight+this.top+1,c=a.contents[a.matrix[l]]),c)r=o,n=c.type,c!==i&&(i=c,"input"===c.type&&(s+=a.lookRight));else if(o-r>50/a.cellWidth)break}"textNode"===n?(this.weightAdd.left+=a.params.radioCheckboxLeftText,this.weightAdd.right=a.params.radioCheckboxRightText):this.weightAdd.right+=a.params.radioCheckboxRightNonText}}needsProcessing(){return this.left>=0&&this.top>=0}getInnerContent(){var e="",t=this.input.node.getAttribute("placeholder");t=t?s.findGoodContent(t):"";var n=this.input.node.getAttribute("title");n=n?o.trimSmart(n):"";var r=this.input.node.getAttribute("value");r=r?o.trimSmart(r):"";var a=this.input.node.getAttribute("aria-label");return a=a?o.trimSmart(a):"",""!==t?e=t:""!==n?e=n:""!==r?e=r:""!==a&&(e=a),i.checkInnerValueWords(e)?e:null}getFinalResult(e){if(this.needsProcessing()){var t=this.getInnerContent();if(t)return{type:"innerContent",content:t};try{this.infosOnInput()}catch(e){return null}return this.getBest(e)}return null}infosOnInput(){var e,t,n,i;for(this.infos=[],e=1;e<a.lookLeft&&(void 0===(n=this.checkColumnLeft(this.left-e,[{y:this.horizontalMiddle,likelyHood:2},{y:this.top+3,likelyHood:1},{y:this.top+1,likelyHood:1},{y:this.top+5,likelyHood:1},{y:this.top,likelyHood:1},{y:this.top+this.height-1,likelyHood:1}]))||t===n.element||(t=n.element,i=a.contents[n.element],this.infos.push({element:i,distance:e,direction:"left",likelyHood:n.likelyHood,elementIndex:t}),"input-non-treated"!==i.type));e++);for(t=void 0,e=1;e<a.lookRight;e++)if(void 0!==(n=this.checkColumn(this.right+e,[this.horizontalMiddle,this.top,this.top+this.height-1]))&&t!==n){if("A"===(i=a.contents[n]).parentName&&void 0!==t){var r=this.infos.length,o=r>=1&&this.infos[r-1]&&"right"===this.infos[r-1].direction&&this.infos[r-1]||null;o?o.element.content=o.element.content+" "+i.content:this.infos.push({element:i,distance:e,direction:"right",elementIndex:n}),t=n}else t=n,this.infos.push({element:i,distance:e,direction:"right",elementIndex:n});if("input-non-treated"===i.type)break}for(t=void 0,e=0;e<a.lookTop;e++)if((n=this.checkRow([this.left,this.left+1,this.left+2,this.verticalMiddle,this.right-1],this.top-1-e)).length&&(!n[0]||n[0]!==t)){for(var s="",l=!0,c=0;c<n.length;c++){var u=a.contents[n[c]];if("textNode"!==u.type){l=!1;break}s+=" "+u.content}l&&(a.contents[n[0]].content=s),n=n[0];for(var d,m=a.contentPositions[n],f=m.left>>a.params.matrixScaleX,p=!1,g=m.top+m.bottom>>2,w=0;w<5;w++){var _=f-w;if(_*=a.windowHeight,(d=a.matrix[_+g])>0){var v=a.contents[d].inputType;if("radio"===v||"checkbox"===v){p=!0;break}}}p||this.infos.push({element:a.contents[n],distance:e,direction:"top",elementIndex:n}),t=n}t=void 0;var y=[];for(e=1;e<this.width;e++)void 0!==(n=this.checkColumn(this.left+e,[this.horizontalMiddle,this.top+2]))&&t!==n&&((i=a.contents[n])&&"textNode"===i.type&&(this.infos.push({element:i,distance:e,direction:"center",elementIndex:n}),y.push({element:i,distance:e,direction:"center",elementIndex:n})),t=n);let b=h.centerCacheElems.indexOf(this.input.node);var C;if(!y.length&&b>-1)for(e=0,C=h.centerCache[b].length;e<C;++e)this.infos.push(h.centerCache[b][e]);else y.length&&-1===b&&(b=h.centerCacheElems.push(this.input.node)-1,h.centerCache[b]=y);y=null}getDomDistance(e){for(var t=this.input.domPos.split("-"),n=e.split("-"),i=Math.min(t.length,n.length),r=1;r<i&&t[r]===n[r];r++);return(t.length-r)/a.params.domDistanceDivisor}getBest(e){var t=this.infos.length;if(!t)return"";let n=null,i=null;for(var r=0;r<t;r++){var s=(n=this.infos[r]).direction;if(i=n.element.content,n.distance+=this.weightAdd[s],n.distance*=this.weightMul[s],n.distance*=this.getDomDistance(n.element.domPos),"image"===n.element.type)n.distance*=a.params.imageMultiplicator;else if("input"===n.element.type&&("RADIO"!==this.nodeType&&"CHECKBOX"!==this.nodeType||(n.distance+=a.params.radioCheckBoxGoAway),"left"!==s&&(n.distance*=a.params.notLeftInputElementMul,n.distance+=a.params.notLeftInputElementAdd),"radio"===n.element.inputType&&(n.distance*=a.params.radioElementMul,n.distance+=a.params.radioElementAdd),n.element.results&&"normal"===n.element.results.type)){var d="left"===s||"right"===s?0:a.params.normalResultMagicTopAdd;this.infos[r]={derivedFromInput:!0,inInput:n.element.results.inInput,direction:s,distance:n.distance+n.element.results.distance+d,content:n.element.results.content,element:n.element.results.element,elementIndex:n.elementIndex}}if(i){c(i)&&(n.distance+=a.params.uselessContentAdd,n.distance*=a.params.uselessContentMul);var m=i.length;if("RADIO"!==this.nodeType&&"CHECKBOX"!==this.nodeType&&(m>a.params.noRadioCheckboxContentLengthThreshold&&(n.distance+=a.params.noRadioCheckboxContentLengthAdd,n.distance*=a.params.noRadioCheckboxContentLengthMul),m>a.params.noRadioCheckboxContentLengthThreshold2&&(n.distance*=a.params.noRadioCheckboxContentLengthMul2)),"right"===s&&u(i)&&(n.distance+=a.params.contentRightIsExtAdd),a.params.useColorAndFont&&void 0!==n.element.node){var f=n.element.node.parentNode,p=o.convertColorToLevel(e.css(f,"color")),g=e.css(f,"font-size");g&&-1!==g.indexOf("px")&&(g=g.slice(0,-2),n.distance*=1+Math.abs(parseInt(g,10)-12)/12),n.distance*=1+p/765}}}var w;this.infos.sort(function(e,t){return e.distance-t.distance});for(var _=[],v=0;v<t;v++){if(2===(n=this.infos[v]).likelyHood){w=n;break}1!==n.likelyHood&&"top"!==n.direction||_.push({element:n,index:v})}var y=_.length;if(w&&y)for(var b=0;b<y;b++){var C=_[b].element;Math.abs(a.contentPositions[C.elementIndex].left-a.contentPositions[w.elementIndex].left)<=1&&(this.infos[_[b].index].distance=w.distance+a.params.lessLikelyCloseMostLikelyAdd)}this.infos.sort(function(e,t){return e.distance-t.distance});var E=null;let T=0;for(var O,k,x="",A=null,S=!1,I=0;I<t;I++)if(i="",i=(n=this.infos[I]).content?n.content:n.element.content,(!E||E===n.direction)&&("center"===n.direction||!(n.element&&n.element.inInput||n.inInput))&&i){if("center"===n.direction&&"SELECT"===this.nodeName){""===x&&(x=i,O={type:"normal",inInput:!!(S=!0)||!!n.element&&n.element.inInput,content:x,distance:n.distance,element:n});continue}if(l(i)){""===x&&(x=i,O={type:"normal",inInput:!!S||!!n.element&&n.element.inInput,content:x,distance:n.distance,element:n});continue}var M=n.element.node&&h.styleTags.some(e=>e===n.element.node.tagName)||n.element.parentName&&h.styleTags.some(e=>e===n.element.parentName);if("left"!==n.direction&&"right"!==n.direction||"textNode"!==n.element.type&&!M)return E?k:{type:"normal",inInput:!!S||!!n.element&&n.element.inInput,content:x?x+" "+i:i,distance:n.distance,element:n};if(!k){E=n.direction,T=n.distance,A=n.element.node.parentNode,O=null,k={type:"normal",inInput:!!S||!!n.element&&n.element.inInput,content:x?x+" "+i:i,distance:n.distance,element:n};continue}if(n.distance-T<10&&!n.derivedFromInput&&(n.element.node.parentNode===A||M)){T=n.distance,"left"===E?k.content=i+" "+k.content:k.content+=" "+i;continue}return k}return O||k||null}checkColumn(e,t){if(!(e>=a.windowWidth))for(var n,i=t.length,r=e*a.windowHeight,o=0;o<i;o++)if((n=a.matrix[r+t[o]])>0)return n}checkColumnLeft(e,t){if(!(e<0))for(var n,i=t.length,r=e*a.windowHeight,o=0;o<i;o++)if((n=a.matrix[r+t[o].y])>0)return{element:n,likelyHood:t[o].likelyHood}}checkRow(e,t){for(var n,i,r=e.length,o=[],s=0;s<r;s++)(n=a.matrix[e[s]*a.windowHeight+t])>0&&n!==i&&(i=n,o.push(n));return o}}h.styleTags=["STRONG","SUB","SUP","EM"],h.centerCacheElems=[],h.centerCache=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2);t.NONE=new i.None},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={maxElementsForStructure:2e3,maxTimeSpent:2e3}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(36),r=n(35),o=n(0),s=n(34),a=n(6),l=n(1),c=n(33),u=n(32),h={BODY:1,A:1,IMG:1,FORM:1,TEXTAREA:1,SELECT:1,BUTTON:1,DIV:2,SPAN:2,P:2,TABLE:2,TR:2,TD:2,TH:2,LABEL:2,DL:2,DD:2,DT:2,UL:2,OL:2,LI:2,SCRIPT:9,STYLE:9,OPTION:9,OPTGROUP:9,KWIFTEXTCOMCHANNEL:9,kwiftExtComChannel:9,NOSCRIPT:9,OBJECT:9,EMBED:9,MAP:9,XML:9,COMMENT:9,BASEFONT:9,META:9},d={text:1,radio:1,checkbox:1,button:1,submit:1,image:1,email:1,tel:1,number:1,url:1,search:1,password:1,hidden:0,file:0};const m="@",f=["id","name","class","alt","title","target"],p=["type","id","name","class","title","alt","value"],g=["id","class","name"],w=["id","name","class","alt","title"],_=["id","name","class"],v=["id","name","class"];var y={classic:["id","name","class","title","maxlength"],radio:["type","id","name","class","title","value"],checkbox:["type","id","name","class","title","value"],button:["type","id","name","class","title","alt","value"],reset:["id","name","class","title","alt","value"],submit:["type","id","name","class","title","alt","value"],image:["type","id","name","class","title","alt","value"]};function b(e,t,n,i,r,s,l){var c=y.classic,u=new Array(c.length),h=n.attributes;if(h){const e=h.length;for(let t=0;t<e;t++){const e=c.indexOf(h[t].name);e>-1&&(u[e]=h[t].value&&h[t].value.replace&&h[t].value.replace(/@/g,"--arob--")||"")}}var d=n.getAttribute("placeholder");d&&-1===d.indexOf("@")&&-1===d.indexOf(",")&&(u[3]=u[3]||"",u[3]+=" "+d);var f=n.getAttribute("data-stripe");f&&(u[1]=u[1]||"",u[1]+=" kwstripe"+f+" "),u[4]=u[4]||"",parseInt(u[4],10)>1e4&&(u[4]="");const p=n,g=r+m+o.kwEscapeCharacters(u.join(m))+m,w=o.kwEscapeCharacters(o.kwTrim(a.KW__DOMContext.getTextForNode(n,i,l,t))),_=p.value&&p.value.replace&&o.kwEscapeCharacters(p.value).replace(/@/g,"--arob--")||"";return e("input"+m+g+m+w,n,i,s),'"1":"'+g+'","2":"'+w+'","5":"'+_+m+'"'}const C={text:b,search:b,email:b,tel:b,url:b,number:b,password:b,radio:(e,t,n,i,r,s,l)=>{var c=y.radio,u=new Array(c.length),h=n.attributes;if(h){const e=h.length;for(var d=0;d<e;d++){const e=c.indexOf(h[d].name);e>-1&&(u[e]=h[d].value&&h[d].value.replace&&h[d].value.replace(/@/g,"--arob--")||"")}}var f=o.kwEscapeCharacters(u.join(m))+m,p=o.kwEscapeCharacters(o.kwTrim(a.KW__DOMContext.getTextForNode(n,i,l,t)));return e("input"+m+f+m+p,n,i,s),'"1":"'+f+'","2":"'+p+'","5":"'+n.checked+m+'"'},checkbox:(e,t,n,i,r,s,l)=>{var c=y.checkbox,u=new Array(c.length),h=n.attributes;if(h){const e=h.length;for(var d=0;d<e;d++){const e=c.indexOf(h[d].name);e>-1&&(u[e]=h[d].value&&h[d].value.replace&&h[d].value.replace(/@/g,"--arob--")||"")}}var f=o.kwEscapeCharacters(u.join(m))+m,p=o.kwEscapeCharacters(o.kwTrim(a.KW__DOMContext.getTextForNode(n,i,l,t)));return e("input"+m+f+m+p,n,i,s),'"1":"'+f+'","2":"'+p+'","5":"'+n.checked+m+'"'},button:(e,t,n,i,r,s)=>{var a=y.button,l=new Array(a.length),c=n.attributes;if(c){const e=c.length;for(var u=0;u<e;u++){const e=a.indexOf(c[u].name);e>-1&&(l[e]=c[u].value&&c[u].value.replace&&c[u].value.replace(/@/g,"--arob--")||"")}}const h=n;var d=o.kwEscapeCharacters(l.join(m))+m,f=h.value&&h.value.replace&&o.kwEscapeCharacters(h.value)||"";return e("input"+m+d+m+f,n,i,s),'"1":"'+d+'","2":"'+f+'"'},reset:(e,t,n,i,r,s)=>{var a=y.reset,l=new Array(a.length),c=n.attributes;if(c){const e=c.length;for(var u=0;u<e;u++){const e=a.indexOf(c[u].name);e>-1&&(l[e]=c[u].value&&c[u].value.replace&&c[u].value.replace(/@/g,"--arob--")||"")}}var h="button"+m+o.kwEscapeCharacters(l.join(m))+m;const d=n;var f=d.value&&d.value.replace&&o.kwEscapeCharacters(d.value)||"";return e("input"+m+h+m+f,n,i,s),'"1":"'+h+'","2":"'+f+'"'},submit:(e,t,n,i,r,s)=>{var a=y.submit,l=new Array(a.length),c=n.attributes;if(c){const e=c.length;for(var u=0;u<e;u++){const e=a.indexOf(c[u].name);e>-1&&(l[e]=c[u].value&&c[u].value.replace&&c[u].value.replace(/@/g,"--arob--")||"")}}var h=o.kwEscapeCharacters(l.join(m))+m,d=n.value&&n.value.replace&&o.kwEscapeCharacters(n.value)||"";return e("input"+m+h+m+d,n,i,s),'"1":"'+h+'","2":"'+d+'"'},image:(e,t,n,i,r,s)=>{var a=y.image,l=new Array(a.length);let c=null;var u=n.attributes,h="";if(u){const e=u.length;for(let t=0;t<e;t++){const e=a.indexOf(u[t].name);e>-1?l[e]=u[t].value&&u[t].value.replace&&u[t].value.replace(/@/g,"--arob--")||"":"src"===u[t].name&&(c=u[t].value&&u[t].value.replace&&u[t].value.replace(/@/g,"--arob--"))&&(h=c)}}var d=o.kwEscapeCharacters(l.join(m))+m;return h=o.kwEscapeCharacters(h),e("input"+m+d+m,n,i,s),'"1":"'+d+'","2":"","3":"'+h+'"'}},E={A:(e,t,n)=>{let i="";var s,a=f,l=new Array(a.length),c=n.attributes;if(c){const e=c.length;for(let t=0;t<e;t++){var u=c[t];const e=a.indexOf(u.name);e>-1?l[e]=u.value&&u.value.replace&&u.value.replace(/@/g,"--arob--")||"":"href"===u.name&&(s=u.value&&u.value.replace&&u.value.replace(/@/g,"--arob--")||"")&&(i=s)}}var h=o.kwEscapeCharacters(l.join(m))+m;const d=o.kwEscapeCharacters(o.kwTrim(t.getNodeFullText(n)));i=o.kwEscapeCharacters(i),e("a"+m+h+i+m+d,n,r.NONE);let p=i;return p=t.stripHostnameFromString(n,i),e("a"+m+h+p+m+d,n,r.NONE),'"1":"'+h+'","2":"'+d+'","3":"'+i+'"'},BODY:function(){return""},BUTTON:(e,t,n)=>{const i=p,s=new Array(i.length),a=n.attributes;if(a){const e=a.length;for(let t=0;t<e;t++){const e=i.indexOf(a[t].name);e>-1&&(s[e]=a[t].value&&a[t].value.replace&&a[t].value.replace(/@/g,"--arob--")||"")}}""!==s[0]&&s[0]||(s[0]="submit");const l=o.kwEscapeCharacters(s.join(m))+m,c=o.kwEscapeCharacters(o.kwTrim(t.getNodeFullText(n)));return e("button"+m+l+m+c,n,r.NONE),'"1":"'+l+'","2":"'+c+'"'},FORM:(e,t,n)=>{var i,s="",a=g,l=new Array(a.length),c=n.attributes;if(c){const e=c.length;for(let t=0;t<e;t++){const e=a.indexOf(c[t].name);e>-1?l[e]=c[t].value&&c[t].value.replace&&c[t].value.replace(/@/g,"--arob--")||"":"action"===c[t].name&&(i=c[t].value&&c[t].value.replace&&c[t].value.replace(/@/g,"--arob--")||"")&&(s=i)}}var u=o.kwEscapeCharacters(l.join(m))+m,h=s=o.kwEscapeCharacters(s);return h=t.stripHostnameFromString(n,s),e("form"+m+u+h+m,n,r.NONE),e("form"+m+u+s+m,n,r.NONE),'"1":"'+u+'","3":"'+s+'"'},IMG:(e,t,n)=>{var i,s="",a=w,l=new Array(a.length),c=n.attributes;if(c){const e=c.length;for(let t=0;t<e;t++){let e=c[t];const n=a.indexOf(e.name);n>-1?l[n]=e.value&&e.value.replace&&e.value.replace(/@/g,"--arob--")||"":"src"===e.name&&(i=e.value&&"data:"!==e.value.substring(0,5)&&e.value.replace&&e.value.replace(/@/g,"--arob--"))&&(s=i)}}var u=o.kwEscapeCharacters(l.join(m))+m;return s=o.kwEscapeCharacters(s),e("img"+m+u+s,n,r.NONE),'"1":"'+u+'","3":"'+s+'"'},SELECT:(e,t,n,i,r,s)=>{var l,c=_,u=new Array(c.length),h=n.attributes;if(h){const e=h.length;for(let t=0;t<e;t++){const e=c.indexOf(h[t].name);e>-1&&(u[e]=h[t].value&&h[t].value.replace&&h[t].value.replace(/@/g,"--arob--")||"")}}var d=o.kwEscapeCharacters(u.join(m))+m;const f=n;var p,g=f.selectedIndex,w="",v="",y="";for(let e=0,n=f.options.length;e<n;e++){var b=f.options[e];const n=t.firstChild(b);let i=b&&n&&n.nodeValue||"";i=i.replace(/@/g,"--arob--").replace(/\$/g,"--doll--"),l=(l=f.options[e].value)&&l.replace&&l.replace(/@/g,"--arob--").replace(/\$/g,"--doll--")||"",e===g&&(p=b,y=o.kwEscapeCharacters(l)),w+=i+"$",v+=l+"$"}d+=o.kwEscapeCharacters(w+m+v+m);var C=p?o.kwEscapeCharacters(o.kwTrim(t.getNodeFullText(p))):"",E=o.kwEscapeCharacters(o.kwTrim(a.KW__DOMContext.getTextForNode(n,i,s,t)));return e("select"+m+d+m+E,n,i,r),'"1":"'+d+'","2":"'+E+'","5":"'+y+m+'","7":"'+C+'"'},TEXTAREA:(e,t,n,i,r,s)=>{var l=v,c=new Array(l.length),u=n.attributes;if(u){const e=u.length;for(let t=0;t<e;t++){const e=l.indexOf(u[t].name);e>-1&&(c[e]=u[t].value&&u[t].value.replace&&u[t].value.replace(/@/g,"--arob--")||"")}}const h=n;var d=o.kwEscapeCharacters(c.join(m))+m,f=o.kwEscapeCharacters(o.kwTrim(a.KW__DOMContext.getTextForNode(n,i,s,t))),p=h.value&&h.value.replace&&o.kwEscapeCharacters(h.value).replace(/@/g,"--arob--")||"";return e("textarea"+m+d+m+f,n,i,r),'"1":"'+d+'","2":"'+f+'","5":"'+p+m+'"'}},T=e=>`>>>KWIFT_FRAME_CONTENT_PLACEHOLDER_fromInjectedFrame${e}<<<`,O=180;let k=0;function x(e,t,n,i){return++k%O==0?(k=0,function(){setTimeout(()=>{e(t,n,i)},0)}):e}const A=({isForMaverick:e,action:n,resetCache:i,comms:r,utils:o,addToCache:s,nodeNeedingHashUpdate:a,store:l})=>t.computeStructure({isForMaverick:e,addToCache:s,utils:o,nodeNeedingHashUpdate:a,resetCache:i}).then(e=>(function({action:e,comms:t,utils:n,structure:i}){i=(i=(i=(i=(i=(i=i.replace(/\,\]/g,"]")).replace(/\}\{/g,"},{")).replace(/\,\}/g,"}")).replace(/&/g,"--amp--")).replace(/\/\//g,"--dbsl--")).replace(new RegExp("=","g"),"--equ--");try{t.KW__sendPluginEvent({action:e,domStructure:i,globalInnerHtml:"",globalInnerText:""})}catch(e){n.log(":("+e)}return Promise.resolve()})({action:n,comms:r,structure:e,utils:o}));function S({isForMaverick:e,startTime:t,addToCache:n,utils:a,node:l,domPos:c,nearInput:u,lightDom:f,isDiaoOnPage:p}){let g=0;function w({isForMaverick:e,startTime:t,addToCache:n,utils:a,node:l,domPos:c,callback:u,nearInput:f,lightDom:p,isDiaoOnPage:_}){if(function(e){return+new Date-e>i.default.maxTimeSpent}(t)||!l)return console.log("Taking too long"),x(u,null,null,!1)(null,null,!1);if(function(e){return e>i.default.maxElementsForStructure}(g))return console.log("Getting too big"),x(u,null,null,!1)(null,null,!1);const v=l.nodeType;let y="",b="",O="";if(1!==v){if(3===v){var k=l.nodeValue;if(f&&0!==l.offsetWidth&&0!==l.offsetHeight){var A=s.KWContextV3.findGoodContent(k);if(""!==A){var S=l.parentNode,I=S.nodeName;let e=null;s.default.useRanges?(s.default.range.selectNode(l),e=a.kw_getBoundingClientRect(s.default.range)):"H"===I.charAt(0)||"STRONG"===I||"P"===I||"TD"===I?(S.insertBefore(s.default.kw__injectedKWTag,l),s.default.kw__injectedKWTag.appendChild(l),e=a.kw_getBoundingClientRect(s.default.kw__injectedKWTag),S.insertBefore(l,s.default.kw__injectedKWTag)):e=a.kw_getBoundingClientRect(S),s.default.fillWithElement2(e,{content:o.trimSmart(A),node:l,type:"textNode",domPos:c,parentName:I},!0)}}return y=k?o.kwTrim(k).replace(/(\\)/g,"\\\\").replace(/"/g,'\\"').replace(/[\n\t]/g," ").replace(/\0/g,""):"",x(u,null,y)(null,y)}return x(u,null,y)(null,y)}{const i=function(e){return e&&e.tagName.replace(/"/g,"").toUpperCase()||"undefined"}(l);if(("IFRAME"===i||"FRAME"===i)&&a.supportsIframe()){if(a.isMainWindow()){const t=a.sha2(l.src);return u(e?'{"0":"'+i.toLowerCase()+'","1": "'+t+'","6":'+T(t)+"}":'{"0":"'+i.toLowerCase()+'","6":'+T(t)+"}")}return u('{"0":"'+i.toLowerCase()+'"}')}const o=a.kw_getBoundingClientRect(l);let v=null;const y=function(e,t){if("INPUT"===t){var n=(e.getAttribute("type")||"text").toLowerCase();return d.hasOwnProperty(n)||(n="text"),d[n]||8}return h[t]||8}(l,i);if(9===y)return x(u)();if(1===y){++g,O='{"0":"'+i.toLowerCase()+'",',v=o.width>0||o.height>0;const e=l.getAttribute("type");let t=e&&"string"==typeof e?e.toLowerCase():"text";var M=r.NONE;if(f)if("TEXTAREA"!==i&&"INPUT"!==i&&"SELECT"!==i&&"BUTTON"!==i||0===l.offsetWidth||0===l.offsetHeight){if("IMG"===i){const e=l.offsetWidth,t=l.offsetHeight;let n;const i=e*t;n=e<6||t<6||i<80||i>2e4?{content:"",type:"image",domPos:c}:s.default.findImageContent(l,c),s.default.fillWithElement2(o,n)}}else t=t||null,"BUTTON"===i||t&&"image"===t||"reset"===t||"submit"===t||"button"===t?s.default.fillWithElement2(o,{content:"",node:l,type:"input-non-treated",domPos:c},!0):(M=s.default.fillWithElement2(o,{content:"",node:l,type:"input",inputType:t,domPos:c,positions:o},!0)).isSome()&&s.default.inputs.push(M.unwrap());let h;if("INPUT"===i)C.hasOwnProperty(t)||(t="text"),h=C[t](n,a,l,M,t,c,p),O+=h,v?(O+=',"4":"true'+m+Math.floor(o.left)+m+Math.floor(o.top)+m+Math.floor(o.width)+m+Math.floor(o.height)+m+'"',l.kwVisibility=!0):(O+=',"4":"false@0@0@0@0@"',l.kwVisibility=!1);else if(h=E[i](n,a,l,M,c,p),O+=h,"BODY"!==i?v?(O+=',"4":"true'+m+Math.floor(o.left)+m+Math.floor(o.top)+m+Math.floor(o.width)+m+Math.floor(o.height)+m+'"',l.kwVisibility=!0):(O+=',"4":"false@0@0@0@0@"',l.kwVisibility=!1):O=O.substring(0,11),"SELECT"===i)return x(u,O+"}")(O+"}")}else 2===y&&(++g,_&&l.dataset.kwdiaostructure?(O="{"+l.dataset.kwdiaostructure,n(l.dataset.kwdiaohashid,l,r.NONE)):O='{"0":"'+i.toLowerCase()+'"',(v=o.width>0||o.height>0)?(O+=',"4":"true'+m+Math.floor(o.left)+m+Math.floor(o.top)+m+Math.floor(o.width)+m+Math.floor(o.height)+m+'"',l.kwVisibility=!0):(O+=',"4":"false@0@0@0@0@"',l.kwVisibility=!1));const k=s.default.nearInputsUsed,A=!s.default.isNearInput(o);if(k&&A){if(p&&"BODY"!==i&&!l.querySelector('input[type="password"]'))return 1===y?x(u,O+"}",null,!1)(O+"}",null,!1):x(u,null,null,!1)(null,null,!1);f=!1}var N=a.firstChild(l),D=0;if(!N)return 8===y?x(u)():x(u,O+"}")(O+"}");var P=!1,R=function(r,o,s){if(++D,r&&(P||(P=!0,8===y&&(O='{"0":"'+i.toLowerCase()+'"'),O+=',"6":['),""!==b&&(O+='{"0":"textnode","7":"'+b+'"}',b=""),O+=r),o&&(b+=(""===b?"":" ")+o),!Boolean(N&&N.nextElementSibling))return 8!==y||P?(1!==y&&2!==y||(O+="BODY"===i?P?"]}":"}":b?P?'{"0":"textnode","7":"'+b+'"}]}':',"7":"'+b+'"}':P?"]}":"}"),8===y&&(O+="]}"),x(u,O)(O)):x(u,null,b,!1)(null,b,!1);r&&(O+=","),N=N.nextElementSibling,w({isForMaverick:e,startTime:t,addToCache:n,utils:a,node:N,domPos:c+"-"+D,callback:R,nearInput:f,lightDom:p,isDiaoOnPage:_})};w({isForMaverick:e,startTime:t,addToCache:n,utils:a,node:N,domPos:c+"-"+D,callback:R,nearInput:f,lightDom:p,isDiaoOnPage:_})}}return new Promise(i=>{w({isForMaverick:e,startTime:t,addToCache:n,utils:a,node:l,domPos:c,nearInput:!0,lightDom:f,callback:i,isDiaoOnPage:p})})}t.computeStructure=(()=>{let e=!1;return function({isForMaverick:t,resetCache:n,nodeNeedingHashUpdate:i,utils:r,addToCache:a}){if(function(e){const t=e.getHref();if(-1!==t.indexOf("dashlane.com/app")&&-1!==t.indexOf("#credentials"))return!0;if(-1!==t.indexOf("www.facebook.com")&&e.kwQuerySelectorAll("input").length>120)return!0;var n,i,r=e.getHostname(),o=e.getPathname();if(["mg.mail.yahoo.com","mail.google","docs.google","spreadsheets.google","spreadsheets1.google.com","drive.google"].some(e=>-1!==r.indexOf(e)))return!0;if(0===r.indexOf("pinterest.com")&&0!==o.indexOf("/login")&&0!==o.indexOf("/join/register")&&0!==o.indexOf("/password/change")&&0!==o.indexOf("/settings"))return!0;if(r.indexOf("google")>-1){if(0===o.indexOf("/reader")||0===o.indexOf("/contacts")||0===o.indexOf("/calendar"))return!0;if(t.indexOf("&q=")>-1||t.indexOf("?q=")>-1||t.indexOf("#q=")>-1){if(0===o.indexOf("/search"))return!0;if(0===o.indexOf("/webhp"))return!0;if(t.indexOf('output="search')>-1)return!0;if(t.indexOf("client=")>-1&&(t.indexOf("?oq=")>-1&&t.indexOf("&oq=")>-1||t.indexOf("?aq=")>-1&&t.indexOf("&aq=")>-1))return!0;if(0===o.indexOf("/m"))return!0}if(0===o.indexOf("/webhp"))return!0}if(r.indexOf("translate.google.")>-1&&0!==o.indexOf("/translate"))return!0;if(r.indexOf("mail.aol.com")>-1)return!0;var s=document.getElementsByTagName("head");if(s&&s.length>0){var a=s[0].getElementsByTagName("meta");if(a)for(n=0,i=a.length;n<i;n++)if("dashlane/analysis"===a[n].name&&"no"===a[n].content)return!0}return!1}(r))return r.log("[STUCTURE] Skipping structure"),Promise.resolve('{"0":"body","6":[]}');if(e)return Promise.reject(new Error("Calculating structure twice ! Should not happen"));e=!0;const l=function(){const e=r.lightDomThreshold();return(document.querySelectorAll&&document.querySelectorAll("*").length||1)>e}();n();const c=r.kwQuerySelector("body")||r.kwQuerySelector("frameset");if(c){const n=function(e){const t=window.location.hostname;let n=!1;const i=(e,t)=>t.some(function(t){return e.textContent.toLowerCase().indexOf(t)>=0}),r=u.divIsAnOutDomainSpecificFilters[t];r&&r.forEach(t=>{const r=t.elementConfig,o=t.fakeConfig,s=e.kwQuerySelectorAll(r.selector);let a=Array.from(s);(a=a.filter(e=>i(e,r.whitelist))).length&&(n=!0),a.forEach(e=>{const t='"0":"'+o.domType.toLowerCase()+'","1":"'+o.attributes+'","2":"'+o.context+'"';e.dataset.kwdiaostructure=t;const n=o.domType.toLowerCase()+m+o.attributes+m+o.context;e.dataset.kwdiaohashid=n})});const s=u.divIsAnOutGenericFilter.elementConfig,a=e.kwQuerySelectorAll(s.selector);let l=Array.from(a);return(l=(l=l.filter(e=>e.textContent.length<70).filter(e=>i(e,s.whitelist))).slice(0,10)).map(e=>{let t,n=o.kwEscapeDiaoCharacters(e.textContent),i=["submit"];["id","name","className","title","alt","value"].forEach(t=>{const n=o.kwEscapeDiaoCharacters(e[t]||"");i.push(n)}),i.push("KwDiaoTag"+e.tagName);const r=i.join(m);return{node:e,structure:t='"0":"input","1":"'+r+'","2":"'+n+'"',hashId:"input"+m+r+m+n}}).forEach(function(e){n=!0,e.node.dataset.kwdiaostructure=e.structure,e.node.dataset.kwdiaohashid=e.hashId}),n}(r);return s.default.initialize(r),S({isForMaverick:t,startTime:+new Date,addToCache:a,utils:r,node:c,domPos:"",lightDom:l,isDiaoOnPage:n}).then(t=>(e=!1,t=t||'{"0":"body","6":[]}',t=s.default.postAnalysis(c,r,t,i,a),s.default.destruct(),t))}return r.log("[STRUCTURE] No body, nor frameset"),Promise.resolve('{"0":"body","6":[]}')}})(),t.default=function(e){let t={},n={},i=!1,s=!1;const a=()=>t={},u=(e,i,r,s)=>{if(e=o.escapeSpecialChars(e),r.isSome()&&(n[r.unwrap()]={hash:e,domPos:s}),t.hasOwnProperty(e)){if(t[e]instanceof Array||(t[e]=[t[e]]),!s)return void t[e].push({node:i});if(!r)return void t[e].push({node:i,domPos:s});for(var a=s.split("-"),l=!1,c=t[e],u=0,h=c.length;u<h;++u){for(var d=c[u].domPos.split("-"),m=0;m<a.length&&m<d.length&&a[m]===d[m]&&++m;);if(m<a.length&&m<d.length&&parseInt(a[m],10)<parseInt(d[m],10)||m===d.length&&a.length<d.length){c.splice(u,0,{node:i,domPos:s}),l=!0;break}}l||c.push({node:i,domPos:s})}else t[e]=s?[{node:i,domPos:s}]:[{node:i}]};return Promise.resolve({getFromCache:(e,{hashId:n,position:i})=>t[n]&&t[n][i]?l.wrapValueToOption(t[n][i].node):(e.warn(`Cannot find element ${n} @ ${i}`),r.NONE),sendFirstDomInformationsOrder:function(r,o,l){if(i&&!s)return s=!0,t={},Promise.resolve().then(()=>A({store:e,isForMaverick:l,resetCache:a,comms:r,utils:o,addToCache:u,nodeNeedingHashUpdate:n,action:"DOMInformations"})).then(()=>(function(e){return c.registerMutationObserver({utils:e.utils,callback:()=>{A(e)}}),Promise.resolve()})({store:e,isForMaverick:l,resetCache:a,comms:r,utils:o,addToCache:u,nodeNeedingHashUpdate:n,action:"signalAjaxDOMInformations"}))},authorizedDomStructureCalculation:function(e,t,n){i=!0,this.sendFirstDomInformationsOrder(e,t,n)},unauthorizedDomStructureCalculation:()=>{i=!1}})}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var l,c=[],u=!1,h=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&m())}function m(){if(!u){var e=a(d);u=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||a(m)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;
/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__(38),ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(n){return new Sha256(t,!0).update(n)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<OUTPUT_TYPES.length;++n){var i=OUTPUT_TYPES[n];t[i]=createOutputMethod(i,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null===e||void 0===e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(n,i){return new HmacSha256(n,t,!0).update(i)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var i=OUTPUT_TYPES[n];t[i]=createHmacOutputMethod(i,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,n){var i,r=typeof e;if("string"===r){var o,s=[],a=e.length,l=0;for(i=0;i<a;++i)(o=e.charCodeAt(i))<128?s[l++]=o:o<2048?(s[l++]=192|o>>6,s[l++]=128|63&o):o<55296||o>=57344?(s[l++]=224|o>>12,s[l++]=128|o>>6&63,s[l++]=128|63&o):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++i)),s[l++]=240|o>>18,s[l++]=128|o>>12&63,s[l++]=128|o>>6&63,s[l++]=128|63&o);e=s}else{if("object"!==r)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var c=[],u=[];for(i=0;i<64;++i){var h=e[i]||0;c[i]=92^h,u[i]=54^h}Sha256.call(this,t,n),this.update(u),this.oKeyPad=c,this.inner=!0,this.sharedMemory=n}Sha256.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var i,r,o=0,s=e.length,a=this.blocks;o<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)for(r=this.start;o<s&&r<64;++o)a[r>>2]|=e[o]<<SHIFT[3&r++];else for(r=this.start;o<s&&r<64;++o)(i=e.charCodeAt(o))<128?a[r>>2]|=i<<SHIFT[3&r++]:i<2048?(a[r>>2]|=(192|i>>6)<<SHIFT[3&r++],a[r>>2]|=(128|63&i)<<SHIFT[3&r++]):i<55296||i>=57344?(a[r>>2]|=(224|i>>12)<<SHIFT[3&r++],a[r>>2]|=(128|i>>6&63)<<SHIFT[3&r++],a[r>>2]|=(128|63&i)<<SHIFT[3&r++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++o)),a[r>>2]|=(240|i>>18)<<SHIFT[3&r++],a[r>>2]|=(128|i>>12&63)<<SHIFT[3&r++],a[r>>2]|=(128|i>>6&63)<<SHIFT[3&r++],a[r>>2]|=(128|63&i)<<SHIFT[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.block=a[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,n,i,r,o,s,a,l,c=this.h0,u=this.h1,h=this.h2,d=this.h3,m=this.h4,f=this.h5,p=this.h6,g=this.h7,w=this.blocks;for(e=16;e<64;++e)t=((r=w[e-15])>>>7|r<<25)^(r>>>18|r<<14)^r>>>3,n=((r=w[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10,w[e]=w[e-16]+t+w[e-7]+n<<0;for(l=u&h,e=0;e<64;e+=4)this.first?(this.is224?(o=300032,g=(r=w[0]-1413257819)-150054599<<0,d=r+24177077<<0):(o=704751109,g=(r=w[0]-210244248)-1521486534<<0,d=r+143694565<<0),this.first=!1):(t=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),i=(o=c&u)^c&h^l,g=d+(r=g+(n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&f^~m&p)+K[e]+w[e])<<0,d=r+(t+i)<<0),t=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),i=(s=d&c)^d&u^o,p=h+(r=p+(n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&m^~g&f)+K[e+1]+w[e+1])<<0,t=((h=r+(t+i)<<0)>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),i=(a=h&d)^h&c^s,f=u+(r=f+(n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&g^~p&m)+K[e+2]+w[e+2])<<0,t=((u=r+(t+i)<<0)>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),i=(l=u&h)^u&d^a,m=c+(r=m+(n=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&p^~f&g)+K[e+3]+w[e+3])<<0,c=r+(t+i)<<0;this.h0=this.h0+c<<0,this.h1=this.h1+u<<0,this.h2=this.h2+h<<0,this.h3=this.h3+d<<0,this.h4=this.h4+m<<0,this.h5=this.h5+f<<0,this.h6=this.h6+p<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,i=this.h3,r=this.h4,o=this.h5,s=this.h6,a=this.h7,l=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s];return this.is224||(l+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),l},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,i=this.h3,r=this.h4,o=this.h5,s=this.h6,a=this.h7,l=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,r>>24&255,r>>16&255,r>>8&255,255&r,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];return this.is224||l.push(a>>24&255,a>>16&255,a>>8&255,255&a),l},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(this,__webpack_require__(40),__webpack_require__(39))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(41),r=()=>({top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0}),o=()=>!("object"==typeof window.top&&window!==window.top||"object"!=typeof window.top);t.default=function(){const e=o()?"-1":i.sha256(window.location.href);return Promise.resolve({getKeycode:e=>e&&e.which?e.which:window.event&&window.event.keyCode?window.event.keyCode:-1,isMainWindow:o,getHref:()=>window.location.href,getURL:()=>window.document.URL,getHostname:()=>window.location.hostname,getPathname:()=>window.location.pathname,kwQuerySelector:document.querySelector.bind(document),kwQuerySelectorAll:document.querySelectorAll.bind(document),getNodeFullText:function(e){let t="";for(var n=e.firstChild;n;){var i=n.nodeType;8!==i&&(t+=1!==i?n.nodeValue:this.getNodeFullText(n)),n=n.nextSibling}return t},supportsIframe:()=>!0,getPageXOffset:()=>window.pageXOffset,getPageYOffset:()=>window.pageYOffset,stripHostnameFromString:(e,t)=>{let n="";const i=e;if(i.hostname)t.indexOf(i.hostname)>-1&&(n=t.substr(t.indexOf(i.hostname)+i.hostname.length,t.length));else{var r=t.match("^[^#]*?://.*?(/.*)$");r&&2===r.length&&(t=r[1])}return n},log:function(...e){},warn:function(...e){},isVisible:e=>e.offsetWidth>0&&e.offsetHeight>0,outerHeight:(e,t)=>{let n=e.offsetHeight;if(t){const t=getComputedStyle(e);return n+=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10)}return n},outerWidth:(e,t)=>{let n=e.offsetWidth;if(t){const t=getComputedStyle(e);return n+=parseInt(t.marginLeft,10)+parseInt(t.marginRight,10)}return n},kw_getBoundingClientRect:e=>{const t=e.getBoundingClientRect();if(!t)return{top:-1e3,left:-1e3,right:-1e3,bottom:-1e3,width:0,height:0};const n=window.pageXOffset,i=window.pageYOffset;return{top:t.top+i,left:t.left+n,right:t.right+n,bottom:t.bottom+i,width:t.width,height:t.height}},isFrameMeaning:function(){return Boolean(this.kwQuerySelector("input:not([type=hidden]):not([type=file]):not([type=reset]):not([type=search]), select, button, textarea"))},isDashlaneDomain:function(){return Boolean("www.dashlane.com"===this.getHostname())},getParents:(e,t)=>{const n=[];for(;e&&e!==document;e=e.parentElement)t?e.matches(t)&&n.push(e):n.push(e);return n},css:(e,t)=>window.getComputedStyle(e)[t],setCss:(e,t)=>{Object.keys(t).forEach(n=>{e.style[n]=t[n]})},createElement:e=>document.createElement(e),offset:e=>{const t=e.getBoundingClientRect(),n=r();return{top:t.top+n.top,left:t.left+n.left}},getDocumentWidth:()=>{const e=document.body,t=document.documentElement;return Math.max(e.offsetWidth,e.scrollWidth,t.clientWidth,t.offsetWidth,t.scrollWidth)},getDocumentHeight:()=>{const e=document.body,t=document.documentElement;return Math.max(e.offsetHeight,e.scrollHeight,t.clientHeight,t.offsetHeight,t.scrollHeight)},getViewport:()=>({width:Math.max(document.documentElement.clientWidth,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}),scrollTop:()=>document.documentElement.scrollTop||0,scrollLeft:()=>document.documentElement.scrollLeft||0,requestAnimationFrame:window.requestAnimationFrame.bind(window),extensionGetUrl:e=>{throw new Error("This is extension specific")},fireEvent:(e,t)=>{const n=document.createEvent("Events");n.initEvent(e,!0,!0),t.dispatchEvent(n)},mutationObserver:MutationObserver,lightDomThreshold:()=>2e3,firstChild:e=>e.firstChild,jqPos:e=>{const t=t=>window.getComputedStyle(e)[t];function n(e){if(!e)return{top:0,left:0};if(e===e.ownerDocument.body)return{top:42,left:42};const t=e.getBoundingClientRect(),n=e.ownerDocument,i=n.body,r=n.documentElement,o=r.clientTop||i.clientTop||0,s=r.clientLeft||i.clientLeft||0;return{top:t.top+(window.pageYOffset||r.scrollTop||i.scrollTop)-o,left:t.left+(window.pageXOffset||r.scrollLeft||i.scrollLeft)-s}}return function(e){const i=function(e){let n=e.offsetParent||document.body;for(;n&&!/^body|html$/i.test(n.tagName)&&"static"===t("position")&&n.offsetParent;)n=n.offsetParent;return n}(e),r=n(e),o=/^body|html$/i.test(i.tagName)?{top:0,left:0}:n(i);return r.top-=parseInt(t("marginTop"),10),r.left-=parseInt(t("marginLeft"),10),o.top+=parseInt(t("borderTopWidth"),10),o.left+=parseInt(t("borderLeftWidth"),10),{top:r.top-o.top,left:r.left-o.left}}(e)},isElementHidden:function(e){const t=e,n=this.kw_getBoundingClientRect(t),i=this.getDocumentHeight(),r=this.getDocumentWidth();if(n&&(0===n.width||0===n.height||n.right<0||n.bottom<0||n.top>i||n.left>r))return!0;const o=window.getComputedStyle(t,null);return!(!o||"hidden"!==o.getPropertyValue("visibility"))},getUniqueFrameId:function(){return e},sha2:function(e){return i.sha256(e)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(42);t.default=function(){return new Promise(e=>{i.default().then(t=>{e(Object.assign({},t,{kwTrim:e=>null===e?"":e.trim()||"",extensionGetUrl:e=>chrome.extension.getURL(e),requestAnimationFrame:window.requestAnimationFrame.bind(window)}))})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);t.default={messageFromJs:i.slot(),domStructure:i.slot(),exceptionFromJs:i.slot(),messageFromExtension:i.slot()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(44),r=n(7),o=n(4);function s(){const e=["autoFillStatus"],t={};return{registerOrderHandler:(e,n)=>{if(t[e])throw new Error(`Handler already registered for action: ${e}`);t[e]=n},catchPluginEvent:function(n,i){if(e.some(e=>n.action===e))return void i.log(`[ORDER] Discarding ${n.action}`);if(i.log("[ORDER] Received order "+JSON.stringify(n,null,2)),!i.isMainWindow()&&!i.isFrameMeaning()&&!i.isDashlaneDomain())return void i.log("[ORDER] !mainWindow && !frameMeaning, not treating order");if(!t[n.action])throw new Error(`No handlers reigstered for action: ${n.action}`);(0,t[n.action])(n)}}}t.default=function({createBusChannel:e}){return function(t){let n=null;const{registerOrderHandler:a,catchPluginEvent:l}=s();return Promise.resolve({KW__sendPluginEvent:e=>{n.messageFromJs(e)},registerOrderHandler:a,initPluginListeners:()=>{const s=t.isMainWindow()?"fromInjectedTo":`fromInjectedFrame${t.getUniqueFrameId()}_kw_${t.getHref()}_kw_${window.name}`;(n=o.createEventBus({events:i.default,channels:[e(s)]})).messageFromExtension.on(e=>{if("string"==typeof e)console.warn(`DEPRECATED MESSAGE FORMAT DETECTED: ${e}`);else try{l(e,t)}catch(e){t.warn("An error occured: "+e),r.logException(e=>n.messageFromJs(e),e)}})}})}},t.makeCommunication=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),r=n(45);t.default=r.default({createBusChannel:e=>new class extends i.GenericChannel{constructor(e){super(5e3),this._port=e,this._port.onMessage.addListener(e=>this._messageReceived(e)),this._port.onDisconnect.addListener(()=>this._disconnected()),this._connected()}send(e){this._port.postMessage(e)}}(chrome.runtime.connect({name:e}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(46),r=n(43),o=n(37),s=n(31),a=n(22),l=n(20),c=n(9);l.default({initCommunication:i.default,initUtils:r.default,initStructure:o.default,initAutofill:s.default,initApi:c.default,initStore:a.default})}]);